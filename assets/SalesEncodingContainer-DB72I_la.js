import{j as e,L as me,r,R as ue,B as q,F as G,V as he,e as ae,c as J,S as v,Y as xe,u as ge,X as fe,W as pe}from"./index-BHajTC1L.js";import{B as je,a as ve,b as Se,c as be}from"./breadcrumb-C-Fyjrya.js";import{c as Ne,C as ye,b as we}from"./card-BS7ZhcBC.js";import{I as S}from"./input-0N76LP_-.js";import{S as E,a as R,b as T,c as B,d as s}from"./select-BnW6v0qK.js";import{f as Ce,a as _e,b as Y,c as P,d as Fe,e as F}from"./table-C2oywTYx.js";import{L as u}from"./label-CXri_Gz7.js";import{D as te,a as Ae,b as se,c as re,d as ne,g as le,e as oe}from"./dialog-CKCL09_l.js";import{N as ie}from"./react-number-format.es-Cz_Wf9-r.js";import{V as De}from"./ViewReceipt-CTpHPuSO.js";function ke(){return e.jsx("div",{className:"bg-[#172554] flex flex-row items-center gap-4 p-2 rounded-md mb-5 ",children:e.jsx("div",{className:" flex flex-col items-start md:items-center md:justify-center md:ml-10 text-accent fade-in-right",children:e.jsx(je,{children:e.jsxs(ve,{children:[e.jsx(Se,{className:"text-accent",children:e.jsx(me,{to:"/atHomes/admin/sales-encoding",children:"List of Sales Encoding"})}),e.jsx(be,{})]})})})})}function Le({fetchAgent:i}){const[o,g]=r.useState({agent_id:"",category:"",date_on_sale:new Date().toISOString().split("T")[0],amount:"",location:"",remarks:"",image:null,client_name:""}),[M,f]=r.useState("Choose agent or broker"),[c,b]=r.useState({}),[I,j]=r.useState(!1),[A,D]=r.useState(!1),[O,V]=r.useState([]),[N,y]=r.useState(null),[w,p]=ue.useState(""),[C,k]=r.useState(null);r.useEffect(()=>{(async()=>{try{const n=await J.get("sales-encoding",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});V(n.data.agents)}catch(n){console.error("Error fetching agents:",n)}})()},[]);const H=t=>{const{value:n}=t;p(n),g({...o,amount:n}),b(n===""?{amount:"Amount is required"}:{})},L=(t,n)=>{g({...o,[t]:n});const m=O.find(x=>x.id===n);if(m){const x=`${m.personal_info.first_name} ${m.personal_info.middle_name} ${m.personal_info.last_name} ${m.personal_info.extension_name}`;f(x),console.log("Selected Agent:",x)}},a=t=>{const n=t.target.value;g({...o,date_on_sale:n})},h=t=>{const{name:n,value:m}=t.target;g({...o,[n]:m})},_=t=>{var m;const n=((m=t.target.files)==null?void 0:m[0])||null;if(n&&(["image/jpeg","image/png","image/jpg","image/gif"].includes(n.type)?n.size>2097152?(y("File size exceeds the maximum limit of 2MB."),g({...o,image:null})):(y(null),g({...o,image:n})):(y("Invalid file type. Only JPEG, PNG, JPG, and GIF are allowed."),g({...o,image:null}))),n){const x=new FileReader;x.onloadend=()=>{k(x.result)},x.onerror=()=>{y("Failed to read file")},x.readAsDataURL(n)}},$=()=>{const t={};return o.agent_id||(t.agent_id="Agent/Broker is required."),o.category||(t.category="Category is required."),o.date_on_sale||(t.date_on_sale="Date of Sale is required."),o.amount||(t.amount="Amount of Sale is required."),o.location||(t.location="Location of Property is required."),o.remarks||(t.remarks="Remarks are required."),o.image||(t.image="Proof of Transaction is required."),o.client_name||(t.client_name="Client name is required."),b(t),Object.keys(t).length===0},z=async t=>{if(t.preventDefault(),!$()||A)return;D(!0);const n=new FormData;Object.entries(o).forEach(([m,x])=>{n.append(m,x)});try{const m=await J.post("sales-encoding",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("access_token")}`}});console.log("Response:",m.data),i(),g({agent_id:"",category:"",date_on_sale:new Date().toISOString().split("T")[0],amount:"",location:"",remarks:"",image:null,client_name:""}),p(""),f("Choose agent or broker"),j(!1),k(null),v.fire({icon:"success",title:"Success",text:"Sales created successfully.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}catch(m){console.error("Error submitting form:",m),v.fire({icon:"error",title:"Failed to create sales encoding",text:"There was an error while saving your sales encoding. Please try again.",confirmButtonText:"Retry"})}finally{D(!1)}};return e.jsx("div",{children:e.jsxs(te,{open:I,onOpenChange:j,children:[e.jsx(Ae,{asChild:!0,children:e.jsxs(q,{className:"h-10",children:[e.jsx(G,{icon:he}),"Add Sales"]})}),e.jsx(se,{className:"md:max-w-[400px] overflow-auto max-h-[97%]",children:e.jsxs(re,{children:[e.jsx(ne,{className:"text-start",children:"ADD SALES ENCODING"}),e.jsx(le,{children:e.jsx("form",{onSubmit:z,children:e.jsxs("div",{className:"text-start flex flex-col gap-4",children:[e.jsxs("div",{className:"grid mt-5 w-full items-start gap-1.5",children:[e.jsx(u,{children:"Agent/Broker"}),e.jsxs(E,{onValueChange:t=>L("agent_id",t),children:[e.jsx(R,{children:e.jsx(T,{placeholder:"Choose agent or broker",children:M})}),e.jsx(B,{children:O.map(t=>e.jsxs(s,{value:t.id,children:[t.personal_info.first_name," ",t.personal_info.middle_name," ",t.personal_info.last_name]},t.id))})]}),c.agent_id&&e.jsx("p",{className:"text-red-500 text-sm",children:c.agent_id})]}),e.jsxs("div",{className:"grid w-full items-start gap-1.5",children:[e.jsx(u,{children:"Category"}),e.jsxs(E,{onValueChange:t=>L("category",t),children:[e.jsx(R,{children:e.jsx(T,{placeholder:"Select category"})}),e.jsxs(B,{children:[e.jsx(s,{value:"Lot only",children:"Lot only"}),e.jsx(s,{value:"House and lot",children:"House and lot"}),e.jsx(s,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(s,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(s,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(s,{value:"Farm Lot",children:"Farm Lot"})]})]}),c.category&&e.jsx("p",{className:"text-red-500 text-sm",children:c.category})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(u,{children:"Client Name"}),e.jsx(S,{type:"text",name:"client_name",placeholder:"Enter client name",value:o.client_name,onChange:h}),c.client_name&&e.jsx("p",{className:"text-red-500 text-sm",children:c.client_name})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(u,{children:"Reservation Date"}),e.jsx(S,{type:"date",name:"date_on_sale",value:o.date_on_sale,onChange:a}),c.date_on_sale&&e.jsx("p",{className:"text-red-500 text-sm",children:c.date_on_sale})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(u,{children:"Amount of Sale"}),e.jsx(ie,{value:w,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"0.00",onValueChange:H,className:"flex h-9 w-full rounded-md border border-primary bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"}),c.amount&&e.jsx("p",{className:"text-red-500 text-sm",children:c.amount})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(u,{children:"Location of Property"}),e.jsx(S,{type:"text",name:"location",placeholder:"Enter location of property",onChange:h}),c.location&&e.jsx("p",{className:"text-red-500 text-sm",children:c.location})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(u,{children:"Remarks:"}),e.jsxs(E,{onValueChange:t=>L("remarks",t),children:[e.jsx(R,{children:e.jsx(T,{placeholder:"Select remarks"})}),e.jsxs(B,{children:[e.jsx(s,{value:"Sold",children:"Sold"}),e.jsx(s,{value:"Not Sold",children:"Not Sold"}),e.jsx(s,{value:"Pre-Selling",children:"Pre-Selling"}),e.jsx(s,{value:"RFO",children:"Ready for Occupancy - (RFO)"})]})]}),c.remarks&&e.jsx("p",{className:"text-red-500 text-sm",children:c.remarks})]}),e.jsxs("div",{className:"grid w-full gap-1.5",children:[e.jsx(u,{children:"Upload Proof of Transaction"}),e.jsx(S,{type:"file",name:"image",onChange:_}),N&&e.jsx("p",{className:"text-red-500 text-sm",children:N}),c.image&&e.jsx("p",{className:"text-red-500 text-sm",children:c.image}),C&&e.jsx("img",{src:C,alt:"Preview",className:"mt-2 max-w-md rounded-md"})]}),e.jsx(oe,{children:e.jsx(q,{type:"submit",disabled:A,children:A?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Submitting...."}),e.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{icon:ae}),"Submit"]})})})]})})})]})})]})})}const Pe=({sales:i,open:o,onOpenChange:g,getAgentBroker:M,fetchAgent:f})=>{var X,Z;const c=`https://athomes.site/${i.image}`,[b,I]=r.useState((X=i.agent)!=null&&X.id?String(i.agent.id):""),[j,A]=r.useState(i.category||""),[D,O]=r.useState(((Z=i.date_on_sale)==null?void 0:Z.split("T")[0])||""),[V,N]=r.useState(i.amount.toString()||""),[y,w]=r.useState(i.location||""),[p,C]=r.useState(c),[k,H]=r.useState(i.remarks||""),[L,a]=r.useState(i.client_name||""),[h,_]=r.useState(!1),[$,z]=r.useState(null),[t,n]=r.useState(null),m=r.useRef(null),x=d=>{var U;const l=(U=d.target.files)==null?void 0:U[0];if(l){const W=["image/jpeg","image/png","image/gif"];if(!l.type.startsWith("image/")||!W.includes(l.type)){v.fire({icon:"error",title:"Invalid File",text:"Please select a valid image file (JPEG, PNG, or GIF)."});return}if(l.size>5242880){v.fire({icon:"error",title:"File Too Large",text:"The selected file exceeds the maximum size of 5MB."});return}const Q=new FileReader;Q.onloadend=()=>{typeof Q.result=="string"&&(C(Q.result),n(l))},Q.readAsDataURL(l)}else v.fire({icon:"error",title:"Invalid File",text:"Please select a valid image file."})},K=()=>{C(c),m.current&&(m.current.value=""),n(null)};r.useEffect(()=>{var d,l;o&&(I((d=i.agent)!=null&&d.id?String(i.agent.id):""),A(i.category||""),O(((l=i.date_on_sale)==null?void 0:l.split("T")[0])||""),N(i.amount.toString()||""),w(i.location||""),H(i.remarks||""),a(i.client_name||""),C(c),z(null),n(null))},[o,i]);const ce=async d=>{if(d.preventDefault(),!h){_(!0),z(null);try{const l=new FormData;l.append("agent_id",b),l.append("category",j),l.append("date_on_sale",D),l.append("amount",V),l.append("location",y),l.append("remarks",k),l.append("client_name",L),t&&l.append("image",t);for(let[W,ee]of l.entries())console.log(`${W}:`,ee);(await J.post(`updateSalesEncoding/${i.id}`,l,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"multipart/form-data"}})).status===200&&(g(!1),N(""),f(),v.fire({icon:"success",title:"Success",text:"Sales encoding updated successfully!",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}))}catch(l){if(l.response&&l.response.data&&l.response.data.errors){const U=Object.values(l.response.data.errors).flat().join(", ");z(U)}else z("An error occurred while updating.")}finally{_(!1)}}},de=d=>{const{value:l}=d;N(l)};return e.jsx(te,{open:o,onOpenChange:g,children:e.jsxs(se,{className:"md:max-w-[425px] h-full max-h-[700px] overflow-auto",children:[e.jsxs(re,{className:"text-start",children:[e.jsx(ne,{children:"Edit Sales Encoding"}),e.jsx(le,{children:"Make changes to your sales here. Click save when you're done."})]}),e.jsxs("form",{onSubmit:ce,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"agent",className:"text-start",children:"Agent/Broker"}),e.jsxs(E,{value:b,onValueChange:I,children:[e.jsx(R,{className:"col-span-3 uppercase ",children:e.jsx(T,{className:"",placeholder:"Choose agent or broker"})}),e.jsx(B,{children:M.map(d=>e.jsxs(s,{className:"uppercase",value:String(d.id),children:[d.personal_info.first_name," ",d.personal_info.middle_name," ",d.personal_info.last_name," ",d.personal_info.extension_name]},d.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"category",className:"text-start",children:"Category"}),e.jsxs(E,{value:j,onValueChange:A,children:[e.jsx(R,{className:"col-span-3",children:e.jsx(T,{placeholder:"Select category"})}),e.jsxs(B,{children:[e.jsx(s,{value:"Lot only",children:"Lot only"}),e.jsx(s,{value:"House and lot",children:"House and lot"}),e.jsx(s,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(s,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(s,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(s,{value:"Farm Lot",children:"Farm Lot"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"client_name",className:"text-start",children:"Client Name:"}),e.jsx(S,{value:L,onChange:d=>a(d.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"date_on_sale",className:"text-start",children:"Date"}),e.jsx(S,{type:"date",value:D,onChange:d=>O(d.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"amount",className:"text-start",children:"Amount"}),e.jsx(ie,{value:V,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"0.00",onValueChange:de,className:"flex h-9 col-span-3 w-full rounded-md border border-primary bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"location",className:"text-start",children:"Location:"}),e.jsx(S,{value:y,onChange:d=>w(d.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"remarks",className:"text-start",children:"Remarks:"}),e.jsxs(E,{value:k,onValueChange:H,children:[e.jsx(R,{className:"col-span-3",children:e.jsx(T,{placeholder:"Select remarks"})}),e.jsxs(B,{children:[e.jsx(s,{value:"Sold",children:"Sold"}),e.jsx(s,{value:"Not Sold",children:"Not Sold"}),e.jsx(s,{value:"Pre-Selling",children:"Pre-Selling"}),e.jsx(s,{value:"RFO",children:"Ready for Occupancy - (RFO)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"Image",className:"text-start",children:"Proof of Transaction:"}),e.jsx(S,{type:"file",onChange:x,ref:m,className:"col-span-3"})]}),p&&e.jsxs("div",{className:"relative mt-4 flex justify-end",children:[e.jsx("img",{src:p,alt:"Selected Preview",className:"h-full object-cover rounded-sm"}),p!==c&&e.jsx(q,{type:"button",onClick:K,className:"absolute top-0 right-0 h-8 w-8 bg-red-500 hover:bg-red-400 rounded-full p-1 shadow-md",children:e.jsx(G,{icon:xe,className:"text-white"})})]})]}),$&&e.jsx("div",{className:"text-red-500",children:$}),e.jsx(oe,{children:e.jsx(q,{type:"submit",disabled:h,className:"bg-green-500 hover:bg-green-400",children:h?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Saving..."}),e.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{icon:ae}),e.jsx("span",{children:"Save changes"})]})})})]})]})})};function qe(){const[i,o]=r.useState([]),[g,M]=r.useState([]),[f,c]=r.useState(""),[b,I]=r.useState(10),[j,A]=r.useState("all"),[D,O]=r.useState(""),[V,N]=r.useState(null),y=ge();r.useEffect(()=>{w()},[]);const w=async()=>{try{const a=await J.get("sales-encoding",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}});o(a.data.salesEncoding.map(h=>({...h,amount:typeof h.amount=="number"?h.amount:parseFloat(h.amount)}))),M(a.data.agents),I(a.data.salesEncoding.length),o(a.data.salesEncoding),console.log("List of Sales:",a.data.salesEncoding)}catch(a){console.error("Error fetching data:",a),v.fire({icon:"error",title:"Error",text:"Failed to fetching data. Please login again.",confirmButtonText:"OK"}),localStorage.clear(),console.clear(),y("/atHomes")}},p=i.filter(a=>{const h=a.category.toLowerCase().includes(f.toLowerCase())||new Date(a.date_on_sale).toLocaleDateString().toLowerCase().includes(f.toLowerCase())||a.amount.toString().toLowerCase().includes(f.toLowerCase())||a.location.toLowerCase().includes(f.toLowerCase())||a.remarks.toLowerCase().includes(f.toLowerCase())||a.client_name.toLowerCase().includes(f.toLowerCase()),_=j&&j!=="all"?a.category===j:!0,$=D?a.date_on_sale.split("T")[0]===D:!0;return h&&_&&$}),C=p.slice(0,b),k=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}),H=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}),L=async a=>{if((await v.fire({title:"Are you sure?",text:"Sale cant be revert â€” feel free to make a new one.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await J.delete(`sales-encoding/${a}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),v.fire({icon:"success",title:"Deleted!",text:"Sales encoding has been deleted.",timer:1500,showConfirmButton:!1}),w()}catch{v.fire({icon:"error",title:"Error!",text:"Failed to delete sales encoding."})}};return e.jsx("div",{className:"py-5 md:pt-20",children:e.jsxs("div",{className:"ml-72 md:ml-0 md:w-full gap-2 items-start justify-center mr-5 md:px-5",children:[e.jsx(ke,{}),e.jsxs(Ne,{className:"bg-[#eef2ff] border-b-4 border-primary fade-in-left",children:[e.jsx(ye,{children:e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-1 gap-4 md:mt-14",children:[e.jsxs("div",{className:"grid w-full gap-1.5",children:[e.jsx(u,{children:"Category"}),e.jsxs(E,{onValueChange:A,value:j,children:[e.jsx(R,{className:"md:w-[340px]",children:e.jsx(T,{placeholder:"Select category"})}),e.jsxs(B,{children:[e.jsx(s,{value:"all",children:"All"}),e.jsx(s,{value:"Lot only",children:"Lot only"}),e.jsx(s,{value:"House and lot",children:"House and lot"}),e.jsx(s,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(s,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(s,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(s,{value:"Farm Lot",children:"Farm Lot"})]})]})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(u,{children:"Reservation date"}),e.jsx(S,{type:"date",className:"md:w-[340px]",onChange:a=>O(a.target.value)})]})]}),e.jsx("div",{children:e.jsx(Le,{fetchAgent:w})})]})}),e.jsxs(we,{children:[e.jsxs("div",{className:"py-2 flex flex-row justify-between",children:[e.jsxs(E,{onValueChange:a=>I(a==="all"?p.length:parseInt(a,10)),children:[e.jsxs(R,{className:"w-[120px] border border-primary",children:[e.jsx("span",{className:"text-[#172554]",children:"Show"}),e.jsx(T,{placeholder:"All"})]}),e.jsxs(B,{children:[e.jsx(s,{value:"all",children:"All"}),e.jsx(s,{value:"5",children:"5"}),e.jsx(s,{value:"10",children:"10"}),e.jsx(s,{value:"20",children:"20"}),e.jsx(s,{value:"30",children:"30"}),e.jsx(s,{value:"40",children:"40"}),e.jsx(s,{value:"50",children:"50"})]})]}),e.jsx(S,{type:"text",placeholder:"Search",className:"w-52",value:f,onChange:a=>c(a.target.value)})]}),e.jsx("div",{className:"fade-in-left ",children:e.jsxs(Ce,{className:"w-full",children:[e.jsx(_e,{className:"bg-primary text-base",children:e.jsxs(Y,{children:[e.jsx(P,{children:"#"}),e.jsx(P,{children:"Client name"}),e.jsx(P,{children:"Category"}),e.jsx(P,{children:"Reservation Date"}),e.jsx(P,{children:"Amount"}),e.jsx(P,{children:"Location"}),e.jsx(P,{children:"Remarks"}),e.jsx(P,{className:"text-right",children:"Action"})]})}),e.jsxs(Fe,{children:[C.length===0&&e.jsx(Y,{children:e.jsx(F,{colSpan:8,className:"text-center text-sm font-medium text-gray-500",children:"No record found."})}),C.map((a,h)=>e.jsxs(Y,{children:[e.jsx(F,{className:"font-medium border border-[#bfdbfe]",children:h+1}),e.jsx(F,{className:"border border-[#bfdbfe]",children:a.client_name}),e.jsx(F,{className:"font-medium border border-[#bfdbfe]",children:a.category}),e.jsx(F,{className:"border border-[#bfdbfe]",children:H.format(new Date(a.date_on_sale))}),e.jsx(F,{className:"border border-[#bfdbfe]",children:e.jsx("span",{children:k.format(a.amount)})}),e.jsx(F,{className:"border border-[#bfdbfe]",children:a.location}),e.jsx(F,{className:"border border-[#bfdbfe]",children:a.remarks}),e.jsx(F,{className:"text-right border border-[#bfdbfe]",children:e.jsxs("div",{className:"flex flex-row gap-1 justify-end",children:[e.jsx(De,{sales:a,dateFormatter:H,currencyFormatter:k}),e.jsx(q,{className:"h-8 w-8 font-medium bg-green-500 hover:bg-green-400 text-sm rounded-md",onClick:()=>N(a.id),children:e.jsx(G,{icon:fe})}),e.jsx(Pe,{sales:a,open:V===a.id,onOpenChange:_=>N(_?a.id:null),getAgentBroker:g,fetchAgent:w}),e.jsx(q,{className:"h-8 w-8 font-medium bg-red-500 hover:bg-red-400 text-sm rounded-md",onClick:()=>L(a.id),children:e.jsx(G,{icon:pe})})]})})]},a.id))]})]})}),e.jsx("div",{className:"flex flex-row justify-end mt-3",children:e.jsx("div",{children:e.jsxs("p",{className:"text-[#172554] text-sm w-full",children:["Showing 1 to ",Math.min(b,p.length)," of ",p.length," entries"]})})})]})]})]})})}export{qe as default};
