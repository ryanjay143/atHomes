import{j as e,L as me,r as l,B as A,F as O,W as xe,e as re,c as K,S as B,f as he,Z as ge,Y as ue}from"./index-DEGDEFog.js";import{c as fe,C as je,b as pe}from"./card-CN0oKiQR.js";import{I as y}from"./input-CYjWdCSf.js";import{S as H,a as z,b as V,c as $,d as s}from"./select-D_nQyVh5.js";import{D as U,a as le,b as J,c as X,d as ee,g as ae,e as Q,f as ve,T as Ne,h as ye,i as Z,j as L,k as be,l as w}from"./dialog-BKeSuSg4.js";import{L as d}from"./label-B4KpdKWk.js";import{B as Se,a as we,b as Ce,c as _e}from"./breadcrumb-KeFqY9RB.js";import{N as ne}from"./react-number-format.es-DtOJIsaI.js";function Fe(){return e.jsx("div",{className:"bg-[#172554] flex flex-row items-center gap-4 p-2 rounded-md mb-5 ",children:e.jsx("div",{className:" flex flex-col items-start md:items-center md:justify-center md:ml-10 text-accent fade-in-right",children:e.jsx(Se,{children:e.jsxs(we,{children:[e.jsx(Ce,{className:"text-accent",children:e.jsx(me,{to:"/agent-broker/agent-salesEncoding",children:"List of Sales Encoding"})}),e.jsx(_e,{})]})})})})}function ke({fetchAgent:r,identityDetails:u}){const[n,m]=l.useState({agent_id:u.id,category:"",date_on_sale:new Date().toISOString().split("T")[0],amount:"",location:"",remarks:"",image:null,client_name:""}),[i,x]=l.useState({}),[C,E]=l.useState(!1),[p,R]=l.useState(!1),[j,I]=l.useState(""),[_,F]=l.useState(null),[k,b]=l.useState(null);l.useEffect(()=>{m(t=>({...t,agent_id:u.id}))},[u]);const S=()=>{const t={};return n.agent_id||(t.agent_id="Agent/Broker is required."),n.category||(t.category="Category is required."),n.date_on_sale||(t.date_on_sale="Date of Sale is required."),n.amount||(t.amount="Amount of Sale is required."),n.location||(t.location="Location of Property is required."),n.remarks||(t.remarks="Remarks are required."),n.image||(t.image="Proof of Transaction is required."),n.client_name||(t.client_name="Client name is required."),x(t),Object.keys(t).length===0},D=async t=>{if(t.preventDefault(),!S()||p)return;R(!0);const o=new FormData;Object.entries(n).forEach(([f,N])=>{o.append(f,N)});try{await K.post("user/agent-sales",o,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),r(),m({agent_id:u.id,category:"",date_on_sale:new Date().toISOString().split("T")[0],amount:"",location:"",remarks:"",image:null,client_name:""}),I(""),E(!1),F(null),B.fire({icon:"success",title:"Success",text:"Sales created successfully.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}catch(f){console.error("Error submitting form:",f),B.fire({icon:"error",title:"Failed to create sales encoding",text:"There was an error while saving your sales encoding. Please try again.",confirmButtonText:"Retry"})}finally{R(!1)}},P=(t,o)=>{m({...n,[t]:o})},v=t=>{const{name:o,value:f}=t.target;m({...n,[o]:f})},T=t=>{const o=t.target.value;m({...n,date_on_sale:o})},a=t=>{const{value:o}=t;I(o),m({...n,amount:o}),x(o===""?{amount:"Amount is required"}:{})},h=t=>{var f;const o=((f=t.target.files)==null?void 0:f[0])||null;if(o&&(["image/jpeg","image/png","image/jpg","image/gif"].includes(o.type)?o.size>5242880?(b("File size exceeds the maximum limit of 5MB."),m({...n,image:null})):(b(null),m({...n,image:o})):(b("Invalid file type. Only JPEG, PNG, JPG, and GIF are allowed."),m({...n,image:null}))),o){const N=new FileReader;N.onloadend=()=>{F(N.result)},N.onerror=()=>{b("Failed to read file")},N.readAsDataURL(o)}};return e.jsx("div",{children:e.jsxs(U,{open:C,onOpenChange:E,children:[e.jsx(le,{asChild:!0,children:e.jsxs(A,{className:"h-10",children:[e.jsx(O,{icon:xe}),"Add Sales"]})}),e.jsx(J,{className:"md:w-[90%] overflow-auto max-h-[97%]",children:e.jsxs(X,{children:[e.jsx(ee,{className:"text-start",children:"ADD SALES ENCODING"}),e.jsx(ae,{children:e.jsx("form",{onSubmit:D,children:e.jsxs("div",{className:"text-start flex flex-col gap-4 mt-5",children:[!1,e.jsxs("div",{className:"grid w-full items-start gap-1.5",children:[e.jsx(d,{children:"Category"}),e.jsxs(H,{onValueChange:t=>P("category",t),children:[e.jsx(z,{children:e.jsx(V,{placeholder:"Select category"})}),e.jsxs($,{children:[e.jsx(s,{value:"Lot only",children:"Lot only"}),e.jsx(s,{value:"House and lot",children:"House and lot"}),e.jsx(s,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(s,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(s,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(s,{value:"Farm Lot",children:"Farm Lot"}),e.jsx(s,{value:"Block and lot",children:"Block and lot"})]})]}),i.category&&e.jsx("p",{className:"text-red-500 text-sm",children:i.category})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Client Name"}),e.jsx(y,{type:"text",name:"client_name",placeholder:"Enter client name",value:n.client_name,onChange:v}),i.client_name&&e.jsx("p",{className:"text-red-500 text-sm",children:i.client_name})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Reservation Date"}),e.jsx(y,{type:"date",name:"date_on_sale",value:n.date_on_sale,onChange:T}),i.date_on_sale&&e.jsx("p",{className:"text-red-500 text-sm",children:i.date_on_sale})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Amount of Sale"}),e.jsx(ne,{value:j,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"0.00",onValueChange:a,className:"flex h-9 w-full rounded-md border border-primary bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"}),i.amount&&e.jsx("p",{className:"text-red-500 text-sm",children:i.amount})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Location of Property"}),e.jsx(y,{type:"text",name:"location",placeholder:"Enter location of property",onChange:v}),i.location&&e.jsx("p",{className:"text-red-500 text-sm",children:i.location})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Remarks:"}),e.jsxs(H,{onValueChange:t=>P("remarks",t),children:[e.jsx(z,{children:e.jsx(V,{placeholder:"Select remarks"})}),e.jsxs($,{children:[e.jsx(s,{value:"Sold",children:"Sold"}),e.jsx(s,{value:"Not Sold",children:"Not Sold"}),e.jsx(s,{value:"Pre-Selling",children:"Pre-Selling"}),e.jsx(s,{value:"RFO",children:"Ready for Occupancy - (RFO)"})]})]}),i.remarks&&e.jsx("p",{className:"text-red-500 text-sm",children:i.remarks})]}),e.jsxs("div",{className:"grid w-full gap-1.5",children:[e.jsx(d,{children:"Upload Proof of Transaction"}),e.jsx(y,{type:"file",name:"image",onChange:h}),k&&e.jsx("p",{className:"text-red-500 text-sm",children:k}),i.image&&e.jsx("p",{className:"text-red-500 text-sm",children:i.image}),_&&e.jsx("img",{src:_,alt:"Preview",className:"mt-2 max-w-md rounded-md"})]}),e.jsx(Q,{children:e.jsx(A,{type:"submit",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Submitting...."}),e.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{icon:re}),"Submit"]})})})]})})})]})})]})})}function De({sales:r,dateFormatter:u,currencyFormatter:n}){var C;const m=l.useRef(null),[i,x]=l.useState(!1);return e.jsx("div",{children:e.jsxs(U,{children:[e.jsx(le,{children:e.jsx(A,{className:"h-8 w-8 font-medium text-sm rounded-md border border-primary",children:e.jsx(O,{icon:he})})}),e.jsxs(J,{className:"md:w-[90%] h-full max-h-[700px] overflow-auto",children:[e.jsxs(X,{children:[e.jsx(ee,{className:"text-start",children:"View Receipt"}),e.jsx(ae,{children:e.jsxs("div",{ref:m,className:"grid gap-4 py-6 text-start bg-white",children:[e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols- items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-gray-600 font-semibold",children:"Broker/Agent:"}),e.jsxs("span",{className:"col-span-3 text-center text-gray-800",children:[r.agent.personal_info.first_name," ",r.agent.personal_info.middle_name," ",r.agent.personal_info.last_name," ",(C=r.agent.personal_info)==null?void 0:C.extension_name]})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-gray-600 font-semibold",children:"Client name:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:r.client_name})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-gray-600 font-semibold",children:"Category:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:r.category})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"date",className:"text-gray-600 font-semibold",children:"Date of Sale:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:u.format(new Date(r.date_on_sale))})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"amount",className:"text-gray-600 font-semibold",children:"Amount:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:n.format(r.amount)})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"location",className:"text-gray-600 font-semibold",children:"Location:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:r.location})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"remarks",className:"text-gray-600 font-semibold",children:"Remarks:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:r.remarks})]}),e.jsx(d,{htmlFor:"remarks",className:"text-gray-600 text-start font-semibold",children:"Proof of Transaction:"}),e.jsxs("div",{className:"mt-3 flex justify-start",children:[e.jsx("img",{src:`https://athomes.site/${r.image}`,alt:r.image,className:"h-full object-cover md:rounded-sm md:w-24 md:h-24  rounded-sm cursor-pointer transition-transform duration-200 hover:scale-105 hover:ring-2 hover:ring-primary",onClick:()=>x(!0),title:"Click to preview"}),e.jsx(U,{open:i,onOpenChange:x,children:e.jsxs(J,{className:"md:w[90%] flex flex-col items-center",children:[e.jsx("img",{src:`https://athomes.site/${r.image}`,alt:r.image,className:"md:max-w-[80vw] md:max-h-[80vh] md:rounded shadow-lg"}),e.jsx(Q,{children:e.jsx(A,{className:"mt-4",onClick:()=>x(!1),children:"Close"})})]})})]})]})})]}),e.jsx(Q,{children:e.jsx("div",{className:"flex flex-row justify-end gap-2",children:e.jsx(ve,{asChild:!0,children:e.jsx(A,{className:"bg-red-500 hover:bg-red-400 h-8",children:"Close"})})})})]})]})})}const Pe=({sales:r,open:u,onOpenChange:n,fetchAgent:m,identityDetails:i})=>{var se;const x=`https://athomes.site/${r.image}`,[C,E]=l.useState(i.id?String(i.id):""),[p,R]=l.useState(r.category||""),[j,I]=l.useState(((se=r.date_on_sale)==null?void 0:se.split("T")[0])||""),[_,F]=l.useState(r.amount.toString()||""),[k,b]=l.useState(r.location||""),[S,D]=l.useState(x),[P,v]=l.useState(r.remarks||""),[T,a]=l.useState(r.client_name||""),[h,t]=l.useState(!1),[o,f]=l.useState(null),[N,G]=l.useState(null),W=l.useRef(null),ie=g=>{var q;const c=(q=g.target.files)==null?void 0:q[0];if(c){const Y=["image/jpeg","image/png","image/jpg","image/gif"];if(!c.type.startsWith("image/")||!Y.includes(c.type)){B.fire({icon:"error",title:"Invalid File",text:"Please select a valid image file (JPEG, JPG, PNG, or GIF)."});return}if(c.size>5242880){B.fire({icon:"error",title:"File Too Large",text:"The selected file exceeds the maximum size of 5MB."});return}const M=new FileReader;M.onloadend=()=>{typeof M.result=="string"&&(D(M.result),G(c))},M.readAsDataURL(c)}else B.fire({icon:"error",title:"Invalid File",text:"Please select a valid image file."})},oe=()=>{D(x),W.current&&(W.current.value=""),G(null)};l.useEffect(()=>{var g;u&&(E(i.id?String(i.id):""),R(r.category||""),I(((g=r.date_on_sale)==null?void 0:g.split("T")[0])||""),F(r.amount.toString()||""),b(r.location||""),v(r.remarks||""),a(r.client_name||""),D(x),f(null),G(null))},[u,r]);const ce=async g=>{if(g.preventDefault(),!h){t(!0),f(null);try{const c=new FormData;c.append("agent_id",C),c.append("category",p),c.append("date_on_sale",j),c.append("amount",_),c.append("location",k),c.append("remarks",P),c.append("client_name",T),N&&c.append("image",N);for(let[Y,te]of c.entries())console.log(`${Y}:`,te);(await K.post(`updateSalesEncodingAgent/${r.id}`,c,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"multipart/form-data"}})).status===200&&(n(!1),F(""),m(),B.fire({icon:"success",title:"Success",text:"Sales encoding updated successfully!",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}))}catch(c){if(c.response&&c.response.data&&c.response.data.errors){const q=Object.values(c.response.data.errors).flat().join(", ");f(q)}else f("An error occurred while updating.")}finally{t(!1)}}},de=g=>{const{value:c}=g;F(c)};return e.jsx(U,{open:u,onOpenChange:n,children:e.jsxs(J,{className:"md:w-[90%] h-full max-h-[700px] overflow-auto",children:[e.jsxs(X,{className:"text-start",children:[e.jsx(ee,{children:"Edit Sales Encoding"}),e.jsx(ae,{children:"Make changes to your sales here. Click save when you're done."})]}),e.jsxs("form",{onSubmit:ce,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[!1,e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-start",children:"Category"}),e.jsxs(H,{value:p,onValueChange:R,children:[e.jsx(z,{className:"col-span-3",children:e.jsx(V,{placeholder:"Select category"})}),e.jsxs($,{children:[e.jsx(s,{value:"Lot only",children:"Lot only"}),e.jsx(s,{value:"House and lot",children:"House and lot"}),e.jsx(s,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(s,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(s,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(s,{value:"Farm Lot",children:"Farm Lot"}),e.jsx(s,{value:"Block and lot",children:"Block and lot"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"client_name",className:"text-start",children:"Client Name:"}),e.jsx(y,{value:T,onChange:g=>a(g.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"date_on_sale",className:"text-start",children:"Date"}),e.jsx(y,{type:"date",value:j,onChange:g=>I(g.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"amount",className:"text-start",children:"Amount"}),e.jsx(ne,{value:_,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"0.00",onValueChange:de,className:"flex h-9 col-span-3 w-full rounded-md border border-primary bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"location",className:"text-start",children:"Location:"}),e.jsx(y,{value:k,onChange:g=>b(g.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"remarks",className:"text-start",children:"Remarks:"}),e.jsxs(H,{value:P,onValueChange:v,children:[e.jsx(z,{className:"col-span-3",children:e.jsx(V,{placeholder:"Select remarks"})}),e.jsxs($,{children:[e.jsx(s,{value:"Sold",children:"Sold"}),e.jsx(s,{value:"Not Sold",children:"Not Sold"}),e.jsx(s,{value:"Pre-Selling",children:"Pre-Selling"}),e.jsx(s,{value:"RFO",children:"Ready for Occupancy - (RFO)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"Image",className:"text-start",children:"Proof of Transaction:"}),e.jsx(y,{type:"file",onChange:ie,ref:W,className:"col-span-3"})]}),S&&e.jsxs("div",{className:"relative mt-4 flex justify-end",children:[e.jsx("img",{src:S,alt:"Selected Preview",className:"h-full object-cover rounded-sm"}),S!==x&&e.jsx(A,{type:"button",onClick:oe,className:"absolute top-0 right-0 h-8 w-8 bg-red-500 hover:bg-red-400 rounded-full p-1 shadow-md",children:e.jsx(O,{icon:ge,className:"text-white"})})]})]}),o&&e.jsx("div",{className:"text-red-500",children:o}),e.jsx(Q,{children:e.jsx(A,{type:"submit",disabled:h,className:"bg-green-500 hover:bg-green-400",children:h?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Saving..."}),e.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{icon:re}),e.jsx("span",{children:"Save changes"})]})})})]})]})})};function He(){const[r,u]=l.useState([]),[n,m]=l.useState({}),[i,x]=l.useState({}),[C,E]=l.useState(null),[p,R]=l.useState("all"),[j,I]=l.useState(""),[_,F]=l.useState(""),[k,b]=l.useState(10),S=async()=>{try{const a=await K.get("user/agent-broker",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}});u(a.data.salesEncoding.map(h=>({...h,amount:typeof h.amount=="number"?h.amount:parseFloat(h.amount)}))),m(a.data.personalInfo),x(a.data.identityDetails),u(a.data.salesEncoding)}catch{}};l.useEffect(()=>{S()},[]);const D=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}),P=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}),v=r.filter(a=>{const h=a.category.toLowerCase().includes(j.toLowerCase())||new Date(a.date_on_sale).toLocaleDateString().toLowerCase().includes(j.toLowerCase())||a.amount.toString().toLowerCase().includes(j.toLowerCase())||a.location.toLowerCase().includes(j.toLowerCase())||a.remarks.toLowerCase().includes(j.toLowerCase())||a.client_name.toLowerCase().includes(j.toLowerCase()),t=p&&p!=="all"?a.category===p:!0,o=_?a.date_on_sale.split("T")[0]===_:!0;return h&&t&&o}),T=v.slice(0,k);return e.jsx("div",{className:"py-3 md:pt-20 flex flex-col md:flex-row gap-4",children:e.jsxs("div",{className:"ml-72 md:ml-0  gap-2 items-start justify-center mr-5 md:px-2 ",children:[e.jsx(Fe,{}),e.jsxs(fe,{className:"bg-[#eef2ff] border-b-4 border-primary fade-in-left md:w-[380px]",children:[e.jsx(je,{children:e.jsxs("div",{className:"flex flex-row md:flex-col gap-4 justify-between",children:[e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-1 gap-4 md:mt-0",children:[e.jsxs("div",{className:"grid w-full gap-1.5",children:[e.jsx(d,{children:"Category"}),e.jsxs(H,{onValueChange:R,value:p,children:[e.jsx(z,{className:"md:w-full ",children:e.jsx(V,{placeholder:"Select category"})}),e.jsxs($,{children:[e.jsx(s,{value:"all",children:"All"}),e.jsx(s,{value:"Lot only",children:"Lot only"}),e.jsx(s,{value:"House and lot",children:"House and lot"}),e.jsx(s,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(s,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(s,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(s,{value:"Farm Lot",children:"Farm Lot"}),e.jsx(s,{value:"Block and lot",children:"Block and lot"})]})]})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Reservation date"}),e.jsx(y,{type:"date",className:"md:w-full]",onChange:a=>F(a.target.value)})]})]}),e.jsx("div",{className:"md:flex md:justify-end md:items-center md:w-full",children:e.jsx(ke,{fetchAgent:S,personalInfo:n,identityDetails:i})})]})}),e.jsxs(pe,{children:[e.jsxs("div",{className:"py-2 flex flex-row justify-between gap-4",children:[e.jsxs(H,{onValueChange:a=>b(a==="all"?v.length:parseInt(a,10)),children:[e.jsxs(z,{className:"w-[120px]  border border-primary",children:[e.jsx("span",{className:"text-[#172554]",children:"Show"}),e.jsx(V,{placeholder:"All"})]}),e.jsxs($,{children:[e.jsx(s,{value:"all",children:"All"}),e.jsx(s,{value:"5",children:"5"}),e.jsx(s,{value:"10",children:"10"}),e.jsx(s,{value:"20",children:"20"}),e.jsx(s,{value:"30",children:"30"}),e.jsx(s,{value:"40",children:"40"}),e.jsx(s,{value:"50",children:"50"})]})]}),e.jsx(y,{type:"text",placeholder:"Search",className:"w-52 md:w-full",value:j,onChange:a=>I(a.target.value)})]}),e.jsx("div",{className:"fade-in-left ",children:e.jsxs(Ne,{className:"w-full",children:[e.jsx(ye,{className:"bg-primary text-base",children:e.jsxs(Z,{children:[e.jsx(L,{children:"#"}),e.jsx(L,{children:"Client name"}),e.jsx(L,{children:"Category"}),e.jsx(L,{children:"Reservation Date"}),e.jsx(L,{children:"Amount"}),e.jsx(L,{children:"Location"}),e.jsx(L,{children:"Remarks"}),e.jsx(L,{className:"text-right",children:"Action"})]})}),e.jsxs(be,{children:[T.length===0&&e.jsx(Z,{children:e.jsx(w,{colSpan:8,className:"text-center text-sm font-medium text-gray-500",children:"No record found."})}),T.map((a,h)=>e.jsxs(Z,{children:[e.jsx(w,{className:"font-medium border border-[#bfdbfe]",children:h+1}),e.jsx(w,{className:"border border-[#bfdbfe]",children:a.client_name}),e.jsx(w,{className:"font-medium border border-[#bfdbfe]",children:a.category}),e.jsx(w,{className:"border border-[#bfdbfe]",children:D.format(new Date(a.date_on_sale))}),e.jsx(w,{className:"border border-[#bfdbfe]",children:e.jsx("span",{children:P.format(a.amount)})}),e.jsx(w,{className:"border border-[#bfdbfe]",children:a.location}),e.jsx(w,{className:"border border-[#bfdbfe]",children:a.remarks}),e.jsx(w,{className:"text-right border border-[#bfdbfe]",children:e.jsxs("div",{className:"flex flex-row gap-1 justify-end",children:[e.jsx(De,{sales:a,dateFormatter:D,currencyFormatter:P}),e.jsx(A,{className:"h-8 w-8 font-medium bg-green-500 hover:bg-green-400 text-sm rounded-md",onClick:()=>E(a.id),children:e.jsx(O,{icon:ue})}),e.jsx(Pe,{sales:a,open:C===a.id,onOpenChange:t=>E(t?a.id:null),fetchAgent:S,identityDetails:i})]})})]},a.id))]})]})}),e.jsx("div",{className:"flex flex-row justify-end mt-3",children:e.jsx("div",{children:e.jsxs("p",{className:"text-[#172554] text-sm w-full",children:["Showing 1 to ",Math.min(k,v.length)," of ",v.length," entries"]})})})]})]})]})})}export{He as default};
