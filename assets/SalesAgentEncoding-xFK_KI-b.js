import{j as e,L as me,r as n,B as I,F as B,V as xe,e as re,c as Q,S as O,f as he,a9 as ue,Y as ge,X as fe}from"./index-BHajTC1L.js";import{c as pe,C as je,b as ve}from"./card-BS7ZhcBC.js";import{I as _}from"./input-0N76LP_-.js";import{S as H,a as z,b as $,c as V,d as s}from"./select-BnW6v0qK.js";import{f as ye,a as Ne,b as W,c as E,d as be,e as D}from"./table-C2oywTYx.js";import{L as d}from"./label-CXri_Gz7.js";import{B as we,a as Se,b as Ce,c as _e}from"./breadcrumb-C-Fyjrya.js";import{D as X,a as ne,b as Y,c as K,d as Z,g as ee,e as ae,f as Fe}from"./dialog-CKCL09_l.js";import{N as le}from"./react-number-format.es-Cz_Wf9-r.js";function Le(){return e.jsx("div",{className:"bg-[#172554] flex flex-row items-center gap-4 p-2 rounded-md mb-5 ",children:e.jsx("div",{className:" flex flex-col items-start md:items-center md:justify-center md:ml-10 text-accent fade-in-right",children:e.jsx(we,{children:e.jsxs(Se,{children:[e.jsx(Ce,{className:"text-accent",children:e.jsx(me,{to:"/atHomes/agent-broker/agent-salesEncoding",children:"List of Sales Encoding"})}),e.jsx(_e,{})]})})})})}function Pe({fetchAgent:r,identityDetails:p}){const[l,x]=n.useState({agent_id:p.id,category:"",date_on_sale:new Date().toISOString().split("T")[0],amount:"",location:"",remarks:"",image:null,client_name:""}),[i,v]=n.useState({}),[R,y]=n.useState(!1),[j,F]=n.useState(!1),[h,N]=n.useState(""),[b,w]=n.useState(null),[m,L]=n.useState(null);n.useEffect(()=>{x(t=>({...t,agent_id:p.id}))},[p]);const P=()=>{const t={};return l.agent_id||(t.agent_id="Agent/Broker is required."),l.category||(t.category="Category is required."),l.date_on_sale||(t.date_on_sale="Date of Sale is required."),l.amount||(t.amount="Amount of Sale is required."),l.location||(t.location="Location of Property is required."),l.remarks||(t.remarks="Remarks are required."),l.image||(t.image="Proof of Transaction is required."),l.client_name||(t.client_name="Client name is required."),v(t),Object.keys(t).length===0},k=async t=>{if(t.preventDefault(),!P()||j)return;F(!0);const o=new FormData;Object.entries(l).forEach(([u,C])=>{o.append(u,C)});try{const u=await Q.post("user/agent-sales",o,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("access_token")}`}});console.log("Response:",u.data),r(),x({agent_id:p.id,category:"",date_on_sale:new Date().toISOString().split("T")[0],amount:"",location:"",remarks:"",image:null,client_name:""}),N(""),y(!1),w(null),O.fire({icon:"success",title:"Success",text:"Sales created successfully.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}catch(u){console.error("Error submitting form:",u),O.fire({icon:"error",title:"Failed to create sales encoding",text:"There was an error while saving your sales encoding. Please try again.",confirmButtonText:"Retry"})}finally{F(!1)}},A=(t,o)=>{x({...l,[t]:o})},S=t=>{const{name:o,value:u}=t.target;x({...l,[o]:u})},T=t=>{const o=t.target.value;x({...l,date_on_sale:o})},a=t=>{const{value:o}=t;N(o),x({...l,amount:o}),v(o===""?{amount:"Amount is required"}:{})},g=t=>{var u;const o=((u=t.target.files)==null?void 0:u[0])||null;if(o&&(["image/jpeg","image/png","image/jpg","image/gif"].includes(o.type)?o.size>2097152?(L("File size exceeds the maximum limit of 2MB."),x({...l,image:null})):(L(null),x({...l,image:o})):(L("Invalid file type. Only JPEG, PNG, JPG, and GIF are allowed."),x({...l,image:null}))),o){const C=new FileReader;C.onloadend=()=>{w(C.result)},C.onerror=()=>{L("Failed to read file")},C.readAsDataURL(o)}};return e.jsx("div",{children:e.jsxs(X,{open:R,onOpenChange:y,children:[e.jsx(ne,{asChild:!0,children:e.jsxs(I,{className:"h-10",children:[e.jsx(B,{icon:xe}),"Add Sales"]})}),e.jsx(Y,{className:"md:w-[90%] overflow-auto max-h-[97%]",children:e.jsxs(K,{children:[e.jsx(Z,{className:"text-start",children:"ADD SALES ENCODING"}),e.jsx(ee,{children:e.jsx("form",{onSubmit:k,children:e.jsxs("div",{className:"text-start flex flex-col gap-4 mt-5",children:[!1,e.jsxs("div",{className:"grid w-full items-start gap-1.5",children:[e.jsx(d,{children:"Category"}),e.jsxs(H,{onValueChange:t=>A("category",t),children:[e.jsx(z,{children:e.jsx($,{placeholder:"Select category"})}),e.jsxs(V,{children:[e.jsx(s,{value:"Lot only",children:"Lot only"}),e.jsx(s,{value:"House and lot",children:"House and lot"}),e.jsx(s,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(s,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(s,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(s,{value:"Farm Lot",children:"Farm Lot"})]})]}),i.category&&e.jsx("p",{className:"text-red-500 text-sm",children:i.category})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Client Name"}),e.jsx(_,{type:"text",name:"client_name",placeholder:"Enter client name",value:l.client_name,onChange:S}),i.client_name&&e.jsx("p",{className:"text-red-500 text-sm",children:i.client_name})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Reservation Date"}),e.jsx(_,{type:"date",name:"date_on_sale",value:l.date_on_sale,onChange:T}),i.date_on_sale&&e.jsx("p",{className:"text-red-500 text-sm",children:i.date_on_sale})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Amount of Sale"}),e.jsx(le,{value:h,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"0.00",onValueChange:a,className:"flex h-9 w-full rounded-md border border-primary bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"}),i.amount&&e.jsx("p",{className:"text-red-500 text-sm",children:i.amount})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Location of Property"}),e.jsx(_,{type:"text",name:"location",placeholder:"Enter location of property",onChange:S}),i.location&&e.jsx("p",{className:"text-red-500 text-sm",children:i.location})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Remarks:"}),e.jsxs(H,{onValueChange:t=>A("remarks",t),children:[e.jsx(z,{children:e.jsx($,{placeholder:"Select remarks"})}),e.jsxs(V,{children:[e.jsx(s,{value:"Sold",children:"Sold"}),e.jsx(s,{value:"Not Sold",children:"Not Sold"}),e.jsx(s,{value:"Pre-Selling",children:"Pre-Selling"}),e.jsx(s,{value:"RFO",children:"Ready for Occupancy - (RFO)"})]})]}),i.remarks&&e.jsx("p",{className:"text-red-500 text-sm",children:i.remarks})]}),e.jsxs("div",{className:"grid w-full gap-1.5",children:[e.jsx(d,{children:"Upload Proof of Transaction"}),e.jsx(_,{type:"file",name:"image",onChange:g}),m&&e.jsx("p",{className:"text-red-500 text-sm",children:m}),i.image&&e.jsx("p",{className:"text-red-500 text-sm",children:i.image}),b&&e.jsx("img",{src:b,alt:"Preview",className:"mt-2 max-w-md rounded-md"})]}),e.jsx(ae,{children:e.jsx(I,{type:"submit",disabled:j,children:j?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Submitting...."}),e.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{icon:re}),"Submit"]})})})]})})})]})})]})})}function De({sales:r,dateFormatter:p,currencyFormatter:l}){var y;const x=n.useRef(null),[i,v]=n.useState(!1),R=()=>{if(!x.current)return;const j=x.current.innerHTML,F=`
      <style>
        body {
          font-size: 20px !important;
          font-family: Arial, sans-serif;
        }
        label, span, div {
          font-size: 40px !important;
        }
        img {
          max-width: 800px !important;
          max-height: 800px !important;
          display: block;
          margin: 16px auto;
          margin-top: 150px;
        }
      </style>
    `,h=800,N=600,b=window.screenX+(window.outerWidth-h)/2,w=window.screenY+(window.outerHeight-N)/2,m=window.open("","",`width=${h},height=${N},left=${b},top=${w}`);m&&(m.document.write("<html><head><title>Print Receipt</title>"),m.document.write(F),m.document.write("</head><body >"),m.document.write(j),m.document.write("</body></html>"),m.document.close(),m.focus(),setTimeout(()=>{m.print(),m.close()},500))};return e.jsx("div",{children:e.jsxs(X,{children:[e.jsx(ne,{children:e.jsx(I,{className:"h-8 w-8 font-medium text-sm rounded-md border border-primary",children:e.jsx(B,{icon:he})})}),e.jsxs(Y,{className:"md:w-[90%] h-full max-h-[700px] overflow-auto",children:[e.jsxs(K,{children:[e.jsx(Z,{className:"text-start",children:"View Receipt"}),e.jsx(ee,{children:e.jsxs("div",{ref:x,className:"grid gap-4 py-6 text-start bg-white",children:[e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols- items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-gray-600 font-semibold",children:"Broker/Agent:"}),e.jsxs("span",{className:"col-span-3 text-center text-gray-800",children:[r.agent.personal_info.first_name," ",r.agent.personal_info.middle_name," ",r.agent.personal_info.last_name," ",(y=r.agent.personal_info)==null?void 0:y.extension_name]})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-gray-600 font-semibold",children:"Client name:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:r.client_name})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-gray-600 font-semibold",children:"Category:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:r.category})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"date",className:"text-gray-600 font-semibold",children:"Date of Sale:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:p.format(new Date(r.date_on_sale))})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"amount",className:"text-gray-600 font-semibold",children:"Amount:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:l.format(r.amount)})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"location",className:"text-gray-600 font-semibold",children:"Location:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:r.location})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"remarks",className:"text-gray-600 font-semibold",children:"Remarks:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:r.remarks})]}),e.jsx(d,{htmlFor:"remarks",className:"text-gray-600 text-start font-semibold",children:"Proof of Transaction:"}),e.jsx("div",{className:"mt-3 md:mt-[-300px]",children:e.jsx("img",{src:`https://athomes.site/${r.image}`,alt:r.image,className:"h-full object-cover rounded-sm md:max-w-[400px] max-w-[300px] mx-auto md:object-none",onLoad:()=>v(!0)})})]})})]}),e.jsx(ae,{children:e.jsxs("div",{className:"flex flex-row justify-end gap-2 md:mt-[-300px]",children:[e.jsx(Fe,{asChild:!0,children:e.jsx(I,{className:"bg-red-500 hover:bg-red-400 h-8",children:"Cancel"})}),e.jsxs(I,{className:"h-8",onClick:R,disabled:!i,children:[e.jsx(B,{icon:ue}),e.jsx("span",{children:"Print"})]})]})})]})]})})}const ke=({sales:r,open:p,onOpenChange:l,fetchAgent:x,identityDetails:i})=>{var te;const v=`https://athomes.site/${r.image}`,[R,y]=n.useState(i.id?String(i.id):""),[j,F]=n.useState(r.category||""),[h,N]=n.useState(((te=r.date_on_sale)==null?void 0:te.split("T")[0])||""),[b,w]=n.useState(r.amount.toString()||""),[m,L]=n.useState(r.location||""),[P,k]=n.useState(v),[A,S]=n.useState(r.remarks||""),[T,a]=n.useState(r.client_name||""),[g,t]=n.useState(!1),[o,u]=n.useState(null),[C,G]=n.useState(null),U=n.useRef(null),ie=f=>{var q;const c=(q=f.target.files)==null?void 0:q[0];if(c){const J=["image/jpeg","image/png","image/gif"];if(!c.type.startsWith("image/")||!J.includes(c.type)){O.fire({icon:"error",title:"Invalid File",text:"Please select a valid image file (JPEG, PNG, or GIF)."});return}if(c.size>5242880){O.fire({icon:"error",title:"File Too Large",text:"The selected file exceeds the maximum size of 5MB."});return}const M=new FileReader;M.onloadend=()=>{typeof M.result=="string"&&(k(M.result),G(c))},M.readAsDataURL(c)}else O.fire({icon:"error",title:"Invalid File",text:"Please select a valid image file."})},oe=()=>{k(v),U.current&&(U.current.value=""),G(null)};n.useEffect(()=>{var f;p&&(y(i.id?String(i.id):""),F(r.category||""),N(((f=r.date_on_sale)==null?void 0:f.split("T")[0])||""),w(r.amount.toString()||""),L(r.location||""),S(r.remarks||""),a(r.client_name||""),k(v),u(null),G(null))},[p,r]);const ce=async f=>{if(f.preventDefault(),!g){t(!0),u(null);try{const c=new FormData;c.append("agent_id",R),c.append("category",j),c.append("date_on_sale",h),c.append("amount",b),c.append("location",m),c.append("remarks",A),c.append("client_name",T),C&&c.append("image",C);for(let[J,se]of c.entries())console.log(`${J}:`,se);(await Q.post(`updateSalesEncodingAgent/${r.id}`,c,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"multipart/form-data"}})).status===200&&(l(!1),w(""),x(),O.fire({icon:"success",title:"Success",text:"Sales encoding updated successfully!",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}))}catch(c){if(c.response&&c.response.data&&c.response.data.errors){const q=Object.values(c.response.data.errors).flat().join(", ");u(q)}else u("An error occurred while updating.")}finally{t(!1)}}},de=f=>{const{value:c}=f;w(c)};return e.jsx(X,{open:p,onOpenChange:l,children:e.jsxs(Y,{className:"md:w-[90%] h-full max-h-[700px] overflow-auto",children:[e.jsxs(K,{className:"text-start",children:[e.jsx(Z,{children:"Edit Sales Encoding"}),e.jsx(ee,{children:"Make changes to your sales here. Click save when you're done."})]}),e.jsxs("form",{onSubmit:ce,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[!1,e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-start",children:"Category"}),e.jsxs(H,{value:j,onValueChange:F,children:[e.jsx(z,{className:"col-span-3",children:e.jsx($,{placeholder:"Select category"})}),e.jsxs(V,{children:[e.jsx(s,{value:"Lot only",children:"Lot only"}),e.jsx(s,{value:"House and lot",children:"House and lot"}),e.jsx(s,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(s,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(s,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(s,{value:"Farm Lot",children:"Farm Lot"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"client_name",className:"text-start",children:"Client Name:"}),e.jsx(_,{value:T,onChange:f=>a(f.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"date_on_sale",className:"text-start",children:"Date"}),e.jsx(_,{type:"date",value:h,onChange:f=>N(f.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"amount",className:"text-start",children:"Amount"}),e.jsx(le,{value:b,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"0.00",onValueChange:de,className:"flex h-9 col-span-3 w-full rounded-md border border-primary bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"location",className:"text-start",children:"Location:"}),e.jsx(_,{value:m,onChange:f=>L(f.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"remarks",className:"text-start",children:"Remarks:"}),e.jsxs(H,{value:A,onValueChange:S,children:[e.jsx(z,{className:"col-span-3",children:e.jsx($,{placeholder:"Select remarks"})}),e.jsxs(V,{children:[e.jsx(s,{value:"Sold",children:"Sold"}),e.jsx(s,{value:"Not Sold",children:"Not Sold"}),e.jsx(s,{value:"Pre-Selling",children:"Pre-Selling"}),e.jsx(s,{value:"RFO",children:"Ready for Occupancy - (RFO)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"Image",className:"text-start",children:"Proof of Transaction:"}),e.jsx(_,{type:"file",onChange:ie,ref:U,className:"col-span-3"})]}),P&&e.jsxs("div",{className:"relative mt-4 flex justify-end",children:[e.jsx("img",{src:P,alt:"Selected Preview",className:"h-full object-cover rounded-sm"}),P!==v&&e.jsx(I,{type:"button",onClick:oe,className:"absolute top-0 right-0 h-8 w-8 bg-red-500 hover:bg-red-400 rounded-full p-1 shadow-md",children:e.jsx(B,{icon:ge,className:"text-white"})})]})]}),o&&e.jsx("div",{className:"text-red-500",children:o}),e.jsx(ae,{children:e.jsx(I,{type:"submit",disabled:g,className:"bg-green-500 hover:bg-green-400",children:g?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Saving..."}),e.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{icon:re}),e.jsx("span",{children:"Save changes"})]})})})]})]})})};function $e(){const[r,p]=n.useState([]),[l,x]=n.useState({}),[i,v]=n.useState({}),[R,y]=n.useState(null),[j,F]=n.useState("all"),[h,N]=n.useState(""),[b,w]=n.useState(""),[m,L]=n.useState(10),P=async()=>{try{const a=await Q.get("user/agent-broker",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}});p(a.data.salesEncoding.map(g=>({...g,amount:typeof g.amount=="number"?g.amount:parseFloat(g.amount)}))),x(a.data.personalInfo),v(a.data.identityDetails),p(a.data.salesEncoding),console.log("List of Sales:",a.data.salesEncoding),console.log("Personal Info:",a.data.personalInfo)}catch(a){console.error("Error fetching data:",a)}};n.useEffect(()=>{P()},[]);const k=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}),A=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}),S=r.filter(a=>{const g=a.category.toLowerCase().includes(h.toLowerCase())||new Date(a.date_on_sale).toLocaleDateString().toLowerCase().includes(h.toLowerCase())||a.amount.toString().toLowerCase().includes(h.toLowerCase())||a.location.toLowerCase().includes(h.toLowerCase())||a.remarks.toLowerCase().includes(h.toLowerCase())||a.client_name.toLowerCase().includes(h.toLowerCase()),t=j&&j!=="all"?a.category===j:!0,o=b?a.date_on_sale.split("T")[0]===b:!0;return g&&t&&o}),T=S.slice(0,m);return e.jsx("div",{className:"py-5 md:pt-20",children:e.jsxs("div",{className:"ml-72 md:ml-0 md:w-full gap-2 items-start justify-center mr-5 md:px-5",children:[e.jsx(Le,{}),e.jsxs(pe,{className:"bg-[#eef2ff] border-b-4 border-primary fade-in-left",children:[e.jsx(je,{children:e.jsxs("div",{className:"flex flex-row md:flex-col gap-4 justify-between",children:[e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-1 gap-4 md:mt-0",children:[e.jsxs("div",{className:"grid w-full gap-1.5",children:[e.jsx(d,{children:"Category"}),e.jsxs(H,{onValueChange:F,value:j,children:[e.jsx(z,{className:"md:w-full ",children:e.jsx($,{placeholder:"Select category"})}),e.jsxs(V,{children:[e.jsx(s,{value:"all",children:"All"}),e.jsx(s,{value:"Lot only",children:"Lot only"}),e.jsx(s,{value:"House and lot",children:"House and lot"}),e.jsx(s,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(s,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(s,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(s,{value:"Farm Lot",children:"Farm Lot"})]})]})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Reservation date"}),e.jsx(_,{type:"date",className:"md:w-full]",onChange:a=>w(a.target.value)})]})]}),e.jsx("div",{className:"md:flex md:justify-end md:items-center md:w-full",children:e.jsx(Pe,{fetchAgent:P,personalInfo:l,identityDetails:i})})]})}),e.jsxs(ve,{children:[e.jsxs("div",{className:"py-2 flex flex-row justify-between gap-4",children:[e.jsxs(H,{onValueChange:a=>L(a==="all"?S.length:parseInt(a,10)),children:[e.jsxs(z,{className:"w-[120px] md:w-full border border-primary",children:[e.jsx("span",{className:"text-[#172554]",children:"Show"}),e.jsx($,{placeholder:"All"})]}),e.jsxs(V,{children:[e.jsx(s,{value:"all",children:"All"}),e.jsx(s,{value:"5",children:"5"}),e.jsx(s,{value:"10",children:"10"}),e.jsx(s,{value:"20",children:"20"}),e.jsx(s,{value:"30",children:"30"}),e.jsx(s,{value:"40",children:"40"}),e.jsx(s,{value:"50",children:"50"})]})]}),e.jsx(_,{type:"text",placeholder:"Search",className:"w-52 md:w-full",value:h,onChange:a=>N(a.target.value)})]}),e.jsx("div",{className:"fade-in-left ",children:e.jsxs(ye,{className:"w-full",children:[e.jsx(Ne,{className:"bg-primary text-base",children:e.jsxs(W,{children:[e.jsx(E,{children:"#"}),e.jsx(E,{children:"Client name"}),e.jsx(E,{children:"Category"}),e.jsx(E,{children:"Reservation Date"}),e.jsx(E,{children:"Amount"}),e.jsx(E,{children:"Location"}),e.jsx(E,{children:"Remarks"}),e.jsx(E,{className:"text-right",children:"Action"})]})}),e.jsxs(be,{children:[T.length===0&&e.jsx(W,{children:e.jsx(D,{colSpan:8,className:"text-center text-sm font-medium text-gray-500",children:"No record found."})}),T.map((a,g)=>e.jsxs(W,{children:[e.jsx(D,{className:"font-medium border border-[#bfdbfe]",children:g+1}),e.jsx(D,{className:"border border-[#bfdbfe]",children:a.client_name}),e.jsx(D,{className:"font-medium border border-[#bfdbfe]",children:a.category}),e.jsx(D,{className:"border border-[#bfdbfe]",children:k.format(new Date(a.date_on_sale))}),e.jsx(D,{className:"border border-[#bfdbfe]",children:e.jsx("span",{children:A.format(a.amount)})}),e.jsx(D,{className:"border border-[#bfdbfe]",children:a.location}),e.jsx(D,{className:"border border-[#bfdbfe]",children:a.remarks}),e.jsx(D,{className:"text-right border border-[#bfdbfe]",children:e.jsxs("div",{className:"flex flex-row gap-1 justify-end",children:[e.jsx(De,{sales:a,dateFormatter:k,currencyFormatter:A}),e.jsx(I,{className:"h-8 w-8 font-medium bg-green-500 hover:bg-green-400 text-sm rounded-md",onClick:()=>y(a.id),children:e.jsx(B,{icon:fe})}),e.jsx(ke,{sales:a,open:R===a.id,onOpenChange:t=>y(t?a.id:null),fetchAgent:P,identityDetails:i})]})})]},a.id))]})]})}),e.jsx("div",{className:"flex flex-row justify-end mt-3",children:e.jsx("div",{children:e.jsxs("p",{className:"text-[#172554] text-sm w-full",children:["Showing 1 to ",Math.min(m,S.length)," of ",S.length," entries"]})})})]})]})]})})}export{$e as default};
