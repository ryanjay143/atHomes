import{j as e,L as me,r as n,B as D,F as O,f as xe,a9 as he,W as ue,e as re,c as Z,S as B,Z as ge,Y as fe}from"./index-DJJk4m9F.js";import{c as pe,C as je,b as ve}from"./card-gXNAm08y.js";import{I as P}from"./input-BxRUIWoi.js";import{S as $,a as H,b as z,c as V,d as r}from"./select-CXmqVV9N.js";import{f as ye,a as Ne,b as X,c as E,d as be,e as L}from"./table-L9v063kD.js";import{L as d}from"./label-C5Hcp4sJ.js";import{B as we,a as Se,b as Ce,c as _e}from"./breadcrumb-BsxEeqVQ.js";import{D as U,a as ne,b as J,c as K,d as ee,g as ae,e as W,f as Fe}from"./dialog-Bp3Dx0Wk.js";import{N as le}from"./react-number-format.es-CWdbN4sF.js";function Pe(){return e.jsx("div",{className:"bg-[#172554] flex flex-row items-center gap-4 p-2 rounded-md mb-5 ",children:e.jsx("div",{className:" flex flex-col items-start md:items-center md:justify-center md:ml-10 text-accent fade-in-right",children:e.jsx(we,{children:e.jsxs(Se,{children:[e.jsx(Ce,{className:"text-accent",children:e.jsx(me,{to:"/agent-broker/agent-salesEncoding",children:"List of Sales Encoding"})}),e.jsx(_e,{})]})})})})}function ke({sales:s,dateFormatter:f,currencyFormatter:l}){var S;const x=n.useRef(null),[i,v]=n.useState(!1),[I,y]=n.useState(!1),p=()=>{if(!x.current)return;const h=x.current.innerHTML,k=`
      <style>
        body {
          font-size: 20px !important;
          font-family: Arial, sans-serif;
        }
        label, span, div {
          font-size: 40px !important;
        }
        img {
          max-width: 800px !important;
          max-height: 800px !important;
          display: block;
          margin: 16px auto;
          margin-top: 150px;
        }
      </style>
    `,N=800,b=600,C=window.screenX+(window.outerWidth-N)/2,w=window.screenY+(window.outerHeight-b)/2,m=window.open("","",`width=${N},height=${b},left=${C},top=${w}`);m&&(m.document.write("<html><head><title>Print Receipt</title>"),m.document.write(k),m.document.write("</head><body >"),m.document.write(h),m.document.write("</body></html>"),m.document.close(),m.focus(),setTimeout(()=>{m.print(),m.close()},500))};return e.jsx("div",{children:e.jsxs(U,{children:[e.jsx(ne,{children:e.jsx(D,{className:"h-8 w-8 font-medium text-sm rounded-md border border-primary",children:e.jsx(O,{icon:xe})})}),e.jsxs(J,{className:"md:w-[90%] h-full max-h-[700px] overflow-auto",children:[e.jsxs(K,{children:[e.jsx(ee,{className:"text-start",children:"View Receipt"}),e.jsx(ae,{children:e.jsxs("div",{ref:x,className:"grid gap-4 py-6 text-start bg-white",children:[e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols- items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-gray-600 font-semibold",children:"Broker/Agent:"}),e.jsxs("span",{className:"col-span-3 text-center text-gray-800",children:[s.agent.personal_info.first_name," ",s.agent.personal_info.middle_name," ",s.agent.personal_info.last_name," ",(S=s.agent.personal_info)==null?void 0:S.extension_name]})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-gray-600 font-semibold",children:"Client name:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:s.client_name})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-gray-600 font-semibold",children:"Category:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:s.category})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"date",className:"text-gray-600 font-semibold",children:"Date of Sale:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:f.format(new Date(s.date_on_sale))})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"amount",className:"text-gray-600 font-semibold",children:"Amount:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:l.format(s.amount)})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"location",className:"text-gray-600 font-semibold",children:"Location:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:s.location})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"remarks",className:"text-gray-600 font-semibold",children:"Remarks:"}),e.jsx("span",{className:"col-span-3 text-center text-gray-800",children:s.remarks})]}),e.jsx(d,{htmlFor:"remarks",className:"text-gray-600 text-start font-semibold",children:"Proof of Transaction:"}),e.jsxs("div",{className:"mt-3 flex justify-start",children:[e.jsx("img",{src:`https://athomes.site/${s.image}`,alt:s.image,className:"h-full object-cover md:rounded-sm md:w-24 md:h-24  rounded-sm cursor-pointer transition-transform duration-200 hover:scale-105 hover:ring-2 hover:ring-primary",onLoad:()=>v(!0),onClick:()=>y(!0),title:"Click to preview"}),e.jsx(U,{open:I,onOpenChange:y,children:e.jsxs(J,{className:"md:w-[90%] flex flex-col items-center",children:[e.jsx("img",{src:`https://athomes.site/${s.image}`,alt:s.image,className:"md:max-w-[80vw] md:max-h-[80vh] md:rounded shadow-lg"}),e.jsx(W,{children:e.jsx(D,{className:"mt-4",onClick:()=>y(!1),children:"Close"})})]})})]})]})})]}),e.jsx(W,{children:e.jsxs("div",{className:"flex flex-row justify-end gap-2",children:[e.jsx(Fe,{asChild:!0,children:e.jsx(D,{className:"bg-red-500 hover:bg-red-400 h-8",children:"Cancel"})}),e.jsxs(D,{className:"h-8",onClick:p,disabled:!i,children:[e.jsx(O,{icon:he}),e.jsx("span",{children:"Print"})]})]})})]})]})})}function Le({fetchAgent:s,identityDetails:f}){const[l,x]=n.useState({agent_id:f.id,category:"",date_on_sale:new Date().toISOString().split("T")[0],amount:"",location:"",remarks:"",image:null,client_name:""}),[i,v]=n.useState({}),[I,y]=n.useState(!1),[p,S]=n.useState(!1),[h,k]=n.useState(""),[N,b]=n.useState(null),[C,w]=n.useState(null);n.useEffect(()=>{x(t=>({...t,agent_id:f.id}))},[f]);const m=()=>{const t={};return l.agent_id||(t.agent_id="Agent/Broker is required."),l.category||(t.category="Category is required."),l.date_on_sale||(t.date_on_sale="Date of Sale is required."),l.amount||(t.amount="Amount of Sale is required."),l.location||(t.location="Location of Property is required."),l.remarks||(t.remarks="Remarks are required."),l.image||(t.image="Proof of Transaction is required."),l.client_name||(t.client_name="Client name is required."),v(t),Object.keys(t).length===0},A=async t=>{if(t.preventDefault(),!m()||p)return;S(!0);const o=new FormData;Object.entries(l).forEach(([j,F])=>{o.append(j,F)});try{await Z.post("user/broker-sales",o,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),s(),x({agent_id:f.id,category:"",date_on_sale:new Date().toISOString().split("T")[0],amount:"",location:"",remarks:"",image:null,client_name:""}),k(""),y(!1),b(null),B.fire({icon:"success",title:"Success",text:"Sales created successfully.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}catch(j){console.error("Error submitting form:",j),B.fire({icon:"error",title:"Failed to create sales encoding",text:"There was an error while saving your sales encoding. Please try again.",confirmButtonText:"Retry"})}finally{S(!1)}},R=(t,o)=>{x({...l,[t]:o})},_=t=>{const{name:o,value:j}=t.target;x({...l,[o]:j})},T=t=>{const o=t.target.value;x({...l,date_on_sale:o})},a=t=>{const{value:o}=t;k(o),x({...l,amount:o}),v(o===""?{amount:"Amount is required"}:{})},u=t=>{var j;const o=((j=t.target.files)==null?void 0:j[0])||null;if(o&&(["image/jpeg","image/png","image/jpg","image/gif"].includes(o.type)?o.size>5242880?(w("File size exceeds the maximum limit of 5MB."),x({...l,image:null})):(w(null),x({...l,image:o})):(w("Invalid file type. Only JPEG, PNG, JPG, and GIF are allowed."),x({...l,image:null}))),o){const F=new FileReader;F.onloadend=()=>{b(F.result)},F.onerror=()=>{w("Failed to read file")},F.readAsDataURL(o)}};return e.jsx("div",{children:e.jsxs(U,{open:I,onOpenChange:y,children:[e.jsx(ne,{asChild:!0,children:e.jsxs(D,{className:"h-10",children:[e.jsx(O,{icon:ue}),"Add Sales"]})}),e.jsx(J,{className:"md:w-[90%] overflow-auto max-h-[97%]",children:e.jsxs(K,{children:[e.jsx(ee,{className:"text-start",children:"ADD SALES ENCODING"}),e.jsx(ae,{children:e.jsx("form",{onSubmit:A,children:e.jsxs("div",{className:"text-start flex flex-col gap-4 mt-5",children:[!1,e.jsxs("div",{className:"grid w-full items-start gap-1.5",children:[e.jsx(d,{children:"Category"}),e.jsxs($,{onValueChange:t=>R("category",t),children:[e.jsx(H,{children:e.jsx(z,{placeholder:"Select category"})}),e.jsxs(V,{children:[e.jsx(r,{value:"Lot only",children:"Lot only"}),e.jsx(r,{value:"House and lot",children:"House and lot"}),e.jsx(r,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(r,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(r,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(r,{value:"Farm Lot",children:"Farm Lot"})]})]}),i.category&&e.jsx("p",{className:"text-red-500 text-sm",children:i.category})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Client Name"}),e.jsx(P,{type:"text",name:"client_name",placeholder:"Enter client name",value:l.client_name,onChange:_}),i.client_name&&e.jsx("p",{className:"text-red-500 text-sm",children:i.client_name})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Reservation Date"}),e.jsx(P,{type:"date",name:"date_on_sale",value:l.date_on_sale,onChange:T}),i.date_on_sale&&e.jsx("p",{className:"text-red-500 text-sm",children:i.date_on_sale})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Amount of Sale"}),e.jsx(le,{value:h,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"0.00",onValueChange:a,className:"flex h-9 w-full rounded-md border border-primary bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"}),i.amount&&e.jsx("p",{className:"text-red-500 text-sm",children:i.amount})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Location of Property"}),e.jsx(P,{type:"text",name:"location",placeholder:"Enter location of property",onChange:_}),i.location&&e.jsx("p",{className:"text-red-500 text-sm",children:i.location})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Remarks:"}),e.jsxs($,{onValueChange:t=>R("remarks",t),children:[e.jsx(H,{children:e.jsx(z,{placeholder:"Select remarks"})}),e.jsxs(V,{children:[e.jsx(r,{value:"Sold",children:"Sold"}),e.jsx(r,{value:"Not Sold",children:"Not Sold"}),e.jsx(r,{value:"Pre-Selling",children:"Pre-Selling"}),e.jsx(r,{value:"RFO",children:"Ready for Occupancy - (RFO)"})]})]}),i.remarks&&e.jsx("p",{className:"text-red-500 text-sm",children:i.remarks})]}),e.jsxs("div",{className:"grid w-full gap-1.5",children:[e.jsx(d,{children:"Upload Proof of Transaction"}),e.jsx(P,{type:"file",name:"image",onChange:u}),C&&e.jsx("p",{className:"text-red-500 text-sm",children:C}),i.image&&e.jsx("p",{className:"text-red-500 text-sm",children:i.image}),N&&e.jsx("img",{src:N,alt:"Preview",className:"mt-2 max-w-md rounded-md"})]}),e.jsx(W,{children:e.jsx(D,{type:"submit",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Submitting...."}),e.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{icon:re}),"Submit"]})})})]})})})]})})]})})}const De=({sales:s,open:f,onOpenChange:l,fetchAgent:x,identityDetails:i})=>{var te;const v=`https://athomes.site/${s.image}`,[I,y]=n.useState(i.id?String(i.id):""),[p,S]=n.useState(s.category||""),[h,k]=n.useState(((te=s.date_on_sale)==null?void 0:te.split("T")[0])||""),[N,b]=n.useState(s.amount.toString()||""),[C,w]=n.useState(s.location||""),[m,A]=n.useState(v),[R,_]=n.useState(s.remarks||""),[T,a]=n.useState(s.client_name||""),[u,t]=n.useState(!1),[o,j]=n.useState(null),[F,G]=n.useState(null),Q=n.useRef(null),ie=g=>{var q;const c=(q=g.target.files)==null?void 0:q[0];if(c){const Y=["image/jpeg","image/png","image/jpg","image/gif"];if(!c.type.startsWith("image/")||!Y.includes(c.type)){B.fire({icon:"error",title:"Invalid File",text:"Please select a valid image file (JPEG, PNG JPG, or GIF)."});return}if(c.size>5242880){B.fire({icon:"error",title:"File Too Large",text:"The selected file exceeds the maximum size of 5MB."});return}const M=new FileReader;M.onloadend=()=>{typeof M.result=="string"&&(A(M.result),G(c))},M.readAsDataURL(c)}else B.fire({icon:"error",title:"Invalid File",text:"Please select a valid image file."})},oe=()=>{A(v),Q.current&&(Q.current.value=""),G(null)};n.useEffect(()=>{var g;f&&(y(i.id?String(i.id):""),S(s.category||""),k(((g=s.date_on_sale)==null?void 0:g.split("T")[0])||""),b(s.amount.toString()||""),w(s.location||""),_(s.remarks||""),a(s.client_name||""),A(v),j(null),G(null))},[f,s]);const ce=async g=>{if(g.preventDefault(),!u){t(!0),j(null);try{const c=new FormData;c.append("agent_id",I),c.append("category",p),c.append("date_on_sale",h),c.append("amount",N),c.append("location",C),c.append("remarks",R),c.append("client_name",T),F&&c.append("image",F);for(let[Y,se]of c.entries())console.log(`${Y}:`,se);(await Z.post(`updateSalesEncodingBroker/${s.id}`,c,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"multipart/form-data"}})).status===200&&(l(!1),b(""),x(),B.fire({icon:"success",title:"Success",text:"Sales encoding updated successfully!",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}))}catch(c){if(c.response&&c.response.data&&c.response.data.errors){const q=Object.values(c.response.data.errors).flat().join(", ");j(q)}else j("An error occurred while updating.")}finally{t(!1)}}},de=g=>{const{value:c}=g;b(c)};return e.jsx(U,{open:f,onOpenChange:l,children:e.jsxs(J,{className:"md:w-[90%] h-full max-h-[700px] overflow-auto",children:[e.jsxs(K,{className:"text-start",children:[e.jsx(ee,{children:"Edit Sales Encoding"}),e.jsx(ae,{children:"Make changes to your sales here. Click save when you're done."})]}),e.jsxs("form",{onSubmit:ce,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[!1,e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"category",className:"text-start",children:"Category"}),e.jsxs($,{value:p,onValueChange:S,children:[e.jsx(H,{className:"col-span-3",children:e.jsx(z,{placeholder:"Select category"})}),e.jsxs(V,{children:[e.jsx(r,{value:"Lot only",children:"Lot only"}),e.jsx(r,{value:"House and lot",children:"House and lot"}),e.jsx(r,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(r,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(r,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(r,{value:"Farm Lot",children:"Farm Lot"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"client_name",className:"text-start",children:"Client Name:"}),e.jsx(P,{value:T,onChange:g=>a(g.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"date_on_sale",className:"text-start",children:"Date"}),e.jsx(P,{type:"date",value:h,onChange:g=>k(g.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"amount",className:"text-start",children:"Amount"}),e.jsx(le,{value:N,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"0.00",onValueChange:de,className:"flex h-9 col-span-3 w-full rounded-md border border-primary bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"location",className:"text-start",children:"Location:"}),e.jsx(P,{value:C,onChange:g=>w(g.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"remarks",className:"text-start",children:"Remarks:"}),e.jsxs($,{value:R,onValueChange:_,children:[e.jsx(H,{className:"col-span-3",children:e.jsx(z,{placeholder:"Select remarks"})}),e.jsxs(V,{children:[e.jsx(r,{value:"Sold",children:"Sold"}),e.jsx(r,{value:"Not Sold",children:"Not Sold"}),e.jsx(r,{value:"Pre-Selling",children:"Pre-Selling"}),e.jsx(r,{value:"RFO",children:"Ready for Occupancy - (RFO)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(d,{htmlFor:"Image",className:"text-start",children:"Proof of Transaction:"}),e.jsx(P,{type:"file",onChange:ie,ref:Q,className:"col-span-3"})]}),m&&e.jsxs("div",{className:"relative mt-4 flex justify-end",children:[e.jsx("img",{src:m,alt:"Selected Preview",className:"h-full object-cover rounded-sm"}),m!==v&&e.jsx(D,{type:"button",onClick:oe,className:"absolute top-0 right-0 h-8 w-8 bg-red-500 hover:bg-red-400 rounded-full p-1 shadow-md",children:e.jsx(O,{icon:ge,className:"text-white"})})]})]}),o&&e.jsx("div",{className:"text-red-500",children:o}),e.jsx(W,{children:e.jsx(D,{type:"submit",disabled:u,className:"bg-green-500 hover:bg-green-400",children:u?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Saving..."}),e.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{icon:re}),e.jsx("span",{children:"Save changes"})]})})})]})]})})};function ze(){const[s,f]=n.useState([]),[l,x]=n.useState({}),[i,v]=n.useState({}),[I,y]=n.useState(null),[p,S]=n.useState("all"),[h,k]=n.useState(""),[N,b]=n.useState(""),[C,w]=n.useState(10),m=async()=>{try{const a=await Z.get("user/broker",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}});f(a.data.salesEncoding.map(u=>({...u,amount:typeof u.amount=="number"?u.amount:parseFloat(u.amount)}))),x(a.data.personalInfo),v(a.data.identityDetails),f(a.data.salesEncoding)}catch{}};n.useEffect(()=>{m()},[]);const A=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}),R=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}),_=s.filter(a=>{const u=a.category.toLowerCase().includes(h.toLowerCase())||new Date(a.date_on_sale).toLocaleDateString().toLowerCase().includes(h.toLowerCase())||a.amount.toString().toLowerCase().includes(h.toLowerCase())||a.location.toLowerCase().includes(h.toLowerCase())||a.remarks.toLowerCase().includes(h.toLowerCase())||a.client_name.toLowerCase().includes(h.toLowerCase()),t=p&&p!=="all"?a.category===p:!0,o=N?a.date_on_sale.split("T")[0]===N:!0;return u&&t&&o}),T=_.slice(0,C);return e.jsx("div",{className:"py-5 md:pt-20",children:e.jsxs("div",{className:"ml-72 md:ml-0 md:w-full gap-2 items-start justify-center mr-5 md:px-5",children:[e.jsx(Pe,{}),e.jsxs(pe,{className:"bg-[#eef2ff] border-b-4 border-primary fade-in-left",children:[e.jsx(je,{children:e.jsxs("div",{className:"flex flex-row md:flex-col gap-4 justify-between",children:[e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-1 gap-4 md:mt-0",children:[e.jsxs("div",{className:"grid w-full gap-1.5",children:[e.jsx(d,{children:"Category"}),e.jsxs($,{onValueChange:S,value:p,children:[e.jsx(H,{className:"md:w-full ",children:e.jsx(z,{placeholder:"Select category"})}),e.jsxs(V,{children:[e.jsx(r,{value:"all",children:"All"}),e.jsx(r,{value:"Lot only",children:"Lot only"}),e.jsx(r,{value:"House and lot",children:"House and lot"}),e.jsx(r,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(r,{value:"Commercial Properties",children:"Commercial Properties"}),e.jsx(r,{value:"Rental Properties",children:"Rental Properties"}),e.jsx(r,{value:"Farm Lot",children:"Farm Lot"})]})]})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(d,{children:"Reservation date"}),e.jsx(P,{type:"date",className:"md:w-full]",onChange:a=>b(a.target.value)})]})]}),e.jsx("div",{className:"md:flex md:justify-end md:items-center md:w-full",children:e.jsx(Le,{fetchAgent:m,personalInfo:l,identityDetails:i})})]})}),e.jsxs(ve,{children:[e.jsxs("div",{className:"py-2 flex flex-row justify-between gap-4",children:[e.jsxs($,{onValueChange:a=>w(a==="all"?_.length:parseInt(a,10)),children:[e.jsxs(H,{className:"w-[120px] md:w-full border border-primary",children:[e.jsx("span",{className:"text-[#172554]",children:"Show"}),e.jsx(z,{placeholder:"All"})]}),e.jsxs(V,{children:[e.jsx(r,{value:"all",children:"All"}),e.jsx(r,{value:"5",children:"5"}),e.jsx(r,{value:"10",children:"10"}),e.jsx(r,{value:"20",children:"20"}),e.jsx(r,{value:"30",children:"30"}),e.jsx(r,{value:"40",children:"40"}),e.jsx(r,{value:"50",children:"50"})]})]}),e.jsx(P,{type:"text",placeholder:"Search",className:"w-52 md:w-full",value:h,onChange:a=>k(a.target.value)})]}),e.jsx("div",{className:"fade-in-left ",children:e.jsxs(ye,{className:"w-full",children:[e.jsx(Ne,{className:"bg-primary text-base",children:e.jsxs(X,{children:[e.jsx(E,{children:"#"}),e.jsx(E,{children:"Client name"}),e.jsx(E,{children:"Category"}),e.jsx(E,{children:"Reservation Date"}),e.jsx(E,{children:"Amount"}),e.jsx(E,{children:"Location"}),e.jsx(E,{children:"Remarks"}),e.jsx(E,{className:"text-right",children:"Action"})]})}),e.jsxs(be,{children:[T.length===0&&e.jsx(X,{children:e.jsx(L,{colSpan:8,className:"text-center text-sm font-medium text-gray-500",children:"No record found."})}),T.map((a,u)=>e.jsxs(X,{children:[e.jsx(L,{className:"font-medium border border-[#bfdbfe]",children:u+1}),e.jsx(L,{className:"border border-[#bfdbfe]",children:a.client_name}),e.jsx(L,{className:"font-medium border border-[#bfdbfe]",children:a.category}),e.jsx(L,{className:"border border-[#bfdbfe]",children:A.format(new Date(a.date_on_sale))}),e.jsx(L,{className:"border border-[#bfdbfe]",children:e.jsx("span",{children:R.format(a.amount)})}),e.jsx(L,{className:"border border-[#bfdbfe]",children:a.location}),e.jsx(L,{className:"border border-[#bfdbfe]",children:a.remarks}),e.jsx(L,{className:"text-right border border-[#bfdbfe]",children:e.jsxs("div",{className:"flex flex-row gap-1 justify-end",children:[e.jsx(ke,{sales:a,dateFormatter:A,currencyFormatter:R}),e.jsx(D,{className:"h-8 w-8 font-medium bg-green-500 hover:bg-green-400 text-sm rounded-md",onClick:()=>y(a.id),children:e.jsx(O,{icon:fe})}),e.jsx(De,{sales:a,open:I===a.id,onOpenChange:t=>y(t?a.id:null),fetchAgent:m,identityDetails:i})]})})]},a.id))]})]})}),e.jsx("div",{className:"flex flex-row justify-end mt-3",children:e.jsx("div",{children:e.jsxs("p",{className:"text-[#172554] text-sm w-full",children:["Showing 1 to ",Math.min(C,_.length)," of ",_.length," entries"]})})})]})]})]})})}export{ze as default};
