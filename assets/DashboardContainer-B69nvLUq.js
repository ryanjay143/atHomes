import{r as i,j as t,c as W,h as vt,i as bt,k as F,l as yt,m as S,n as B,o as Ne,p as Pt,q as Et,s as Ct,t as wt,v as jt,w as Nt,x as At,y as Rt,z as Ot,A as re,C as St,D as Tt,P as Ae,E as _t,G as Ft,H as Dt,I as It,J as Lt,K as kt,M as Mt,N as $t,O as Ht,u as Ut,L as G,F as Z,Q as Bt,T as Wt,U as zt,V as Kt,S as Vt}from"./index-DVv-KA5F.js";/* empty css              */import{c as A,C as R,a as O,b as q,d as k}from"./card-NgSF3gGX.js";import{C as Re}from"./react-apexcharts.min-ByM48N6M.js";import{T as Xt,a as Yt,b as Q,c as U,d as Jt,e as L}from"./table-Df3SW-Gz.js";const Gt=()=>{const[e,s]=i.useState(!1),[r,n]=i.useState(Array(12).fill(0)),o=async()=>{try{const c=(await W.get("sales-encoding",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}})).data.salesEncoding.map(d=>({...d,amount:typeof d.amount=="number"?d.amount:parseFloat(d.amount)})),f=Array(12).fill(0);c.forEach(d=>{const u=new Date(d.date_on_sale).getMonth();f[u]+=d.amount}),n(f)}catch(l){console.error("Error fetching data:",l)}};i.useEffect(()=>{o()},[]);const a={series:[{name:"Sales",data:r}],options:{chart:{type:"line",height:350},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},stroke:{curve:"smooth"},title:{text:"Sales from January to December",align:"left"},tooltip:{y:{formatter:l=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l)}}}};return i.useEffect(()=>{s(!0)},[]),t.jsx(t.Fragment,{children:t.jsxs(A,{className:"fade-in-left w-full md:w-full bg-[#eff6ff] border-b-4 border-primary",children:[t.jsx(R,{children:t.jsx(O,{className:"text-[#172554]",children:"Overall Sales"})}),t.jsx(q,{children:e&&t.jsx(Re,{options:a.options,series:a.series,type:"line",height:350})})]})})},Zt=()=>{const[e,s]=i.useState(!1),[r,n]=i.useState({series:[{name:"Total Reservation",data:[]}],options:{chart:{type:"bar",height:350},xaxis:{categories:[]},title:{text:"Top Reservation Housing of this Month",align:"left"}}});return i.useEffect(()=>{s(!0),W.get("sales-encoding",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}).then(o=>{const a=o.data.salesdashboard,l=a.map(f=>f.category),c=a.map(f=>f.totalReserved);n({series:[{name:"Total Reservation",data:c}],options:{...r.options,xaxis:{categories:l}}})}).catch(o=>{console.error("Error fetching data:",o)})},[]),t.jsx(t.Fragment,{children:t.jsxs(A,{className:"fade-in-right w-full md:w-full bg-[#eff6ff] border-b-4 border-primary",children:[t.jsx(R,{children:t.jsx(O,{className:"text-[#172554]",children:"Top Housing Category"})}),t.jsx(q,{children:e&&t.jsx(Re,{options:r.options,series:r.series,type:"bar",height:350})})]})})};function qt(){const[e,s]=i.useState([]),r=async()=>{try{const o=await W.get("sales-encoding",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}});s(o.data.topPerformers)}catch(o){console.error("Error fetching data:",o)}};i.useEffect(()=>{r()},[]);const n=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"});return t.jsx(t.Fragment,{children:t.jsxs(A,{className:"fade-in-left w-full md:w-full bg-[#eff6ff] border-b-4 border-primary ",children:[t.jsxs(R,{children:[t.jsx(O,{children:"Top Performers"}),t.jsx(k,{children:"of this month"})]}),t.jsx(q,{children:t.jsxs(Xt,{children:[t.jsx(Yt,{children:t.jsxs(Q,{children:[t.jsx(U,{children:"Rank"}),t.jsx(U,{children:"Affiliated"}),t.jsx(U,{children:"Role"}),t.jsx(U,{children:"Total Reserved"}),t.jsx(U,{children:"Total Sales"})]})}),t.jsxs(Jt,{children:[e.length===0&&t.jsx(Q,{children:t.jsx(L,{className:"text-center border",colSpan:5,children:"No data available."})}),e.map((o,a)=>t.jsxs(Q,{children:[t.jsx(L,{className:"font-medium border border-[#bfdbfe]",children:a+1}),t.jsxs(L,{className:"font-medium border border-[#bfdbfe]",children:[o.first_name," ",o.middle_name," ",o.last_name," ",o.extension_name]}),t.jsx(L,{className:"text-right border border-[#bfdbfe]",children:o.role}),t.jsx(L,{className:"text-right border border-[#bfdbfe]",children:o.totalReserved}),t.jsx(L,{className:"text-right border border-[#bfdbfe]",children:n.format(o.totalSales)})]},o.id))]})]})})]})})}var oe=i.forwardRef((e,s)=>{const{children:r,...n}=e,o=i.Children.toArray(r),a=o.find(er);if(a){const l=a.props.children,c=o.map(f=>f===a?i.Children.count(l)>1?i.Children.only(null):i.isValidElement(l)?l.props.children:null:f);return t.jsx(ne,{...n,ref:s,children:i.isValidElement(l)?i.cloneElement(l,void 0,c):null})}return t.jsx(ne,{...n,ref:s,children:r})});oe.displayName="Slot";var ne=i.forwardRef((e,s)=>{const{children:r,...n}=e;if(i.isValidElement(r)){const o=rr(r),a=tr(n,r.props);return r.type!==i.Fragment&&(a.ref=s?vt(s,o):o),i.cloneElement(r,a)}return i.Children.count(r)>1?i.Children.only(null):null});ne.displayName="SlotClone";var Qt=({children:e})=>t.jsx(t.Fragment,{children:e});function er(e){return i.isValidElement(e)&&e.type===Qt}function tr(e,s){const r={...s};for(const n in s){const o=e[n],a=s[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...c)=>{a(...c),o(...c)}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function rr(e){var n,o;let s=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(s=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],j=nr.reduce((e,s)=>{const r=i.forwardRef((n,o)=>{const{asChild:a,...l}=n,c=a?oe:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${s}`,{...e,[s]:r}},{});function sr(e,s){e&&bt.flushSync(()=>e.dispatchEvent(s))}var or="DismissableLayer",se="dismissableLayer.update",ar="dismissableLayer.pointerDownOutside",ir="dismissableLayer.focusOutside",ye,Oe=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Se=i.forwardRef((e,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...f}=e,d=i.useContext(Oe),[u,v]=i.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=i.useState({}),C=F(s,x=>v(x)),p=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),h=p.indexOf(E),y=u?p.indexOf(u):-1,P=d.layersWithOutsidePointerEventsDisabled.size>0,b=y>=h,D=dr(x=>{const _=x.target,K=[...d.branches].some($=>$.contains(_));!b||K||(o==null||o(x),l==null||l(x),x.defaultPrevented||c==null||c())},m),w=ur(x=>{const _=x.target;[...d.branches].some($=>$.contains(_))||(a==null||a(x),l==null||l(x),x.defaultPrevented||c==null||c())},m);return yt(x=>{y===d.layers.size-1&&(n==null||n(x),!x.defaultPrevented&&c&&(x.preventDefault(),c()))},m),i.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ye=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Pe(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=ye)}},[u,m,r,d]),i.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Pe())},[u,d]),i.useEffect(()=>{const x=()=>g({});return document.addEventListener(se,x),()=>document.removeEventListener(se,x)},[]),t.jsx(j.div,{...f,ref:C,style:{pointerEvents:P?b?"auto":"none":void 0,...e.style},onFocusCapture:S(e.onFocusCapture,w.onFocusCapture),onBlurCapture:S(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:S(e.onPointerDownCapture,D.onPointerDownCapture)})});Se.displayName=or;var cr="DismissableLayerBranch",lr=i.forwardRef((e,s)=>{const r=i.useContext(Oe),n=i.useRef(null),o=F(s,n);return i.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),t.jsx(j.div,{...e,ref:o})});lr.displayName=cr;function dr(e,s=globalThis==null?void 0:globalThis.document){const r=B(e),n=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let f=function(){Te(ar,r,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(s.removeEventListener("click",o.current),o.current=f,s.addEventListener("click",o.current,{once:!0})):f()}else s.removeEventListener("click",o.current);n.current=!1},l=window.setTimeout(()=>{s.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),s.removeEventListener("pointerdown",a),s.removeEventListener("click",o.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function ur(e,s=globalThis==null?void 0:globalThis.document){const r=B(e),n=i.useRef(!1);return i.useEffect(()=>{const o=a=>{a.target&&!n.current&&Te(ir,r,{originalEvent:a},{discrete:!1})};return s.addEventListener("focusin",o),()=>s.removeEventListener("focusin",o)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Pe(){const e=new CustomEvent(se);document.dispatchEvent(e)}function Te(e,s,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});s&&o.addEventListener(e,s,{once:!0}),n?sr(o,a):o.dispatchEvent(a)}var ee="focusScope.autoFocusOnMount",te="focusScope.autoFocusOnUnmount",Ee={bubbles:!1,cancelable:!0},fr="FocusScope",_e=i.forwardRef((e,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=e,[c,f]=i.useState(null),d=B(o),u=B(a),v=i.useRef(null),m=F(s,p=>f(p)),g=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(n){let p=function(P){if(g.paused||!c)return;const b=P.target;c.contains(b)?v.current=b:N(v.current,{select:!0})},E=function(P){if(g.paused||!c)return;const b=P.relatedTarget;b!==null&&(c.contains(b)||N(v.current,{select:!0}))},h=function(P){if(document.activeElement===document.body)for(const D of P)D.removedNodes.length>0&&N(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",E);const y=new MutationObserver(h);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",E),y.disconnect()}}},[n,c,g.paused]),i.useEffect(()=>{if(c){we.add(g);const p=document.activeElement;if(!c.contains(p)){const h=new CustomEvent(ee,Ee);c.addEventListener(ee,d),c.dispatchEvent(h),h.defaultPrevented||(pr(vr(Fe(c)),{select:!0}),document.activeElement===p&&N(c))}return()=>{c.removeEventListener(ee,d),setTimeout(()=>{const h=new CustomEvent(te,Ee);c.addEventListener(te,u),c.dispatchEvent(h),h.defaultPrevented||N(p??document.body,{select:!0}),c.removeEventListener(te,u),we.remove(g)},0)}}},[c,d,u,g]);const C=i.useCallback(p=>{if(!r&&!n||g.paused)return;const E=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,h=document.activeElement;if(E&&h){const y=p.currentTarget,[P,b]=mr(y);P&&b?!p.shiftKey&&h===b?(p.preventDefault(),r&&N(P,{select:!0})):p.shiftKey&&h===P&&(p.preventDefault(),r&&N(b,{select:!0})):h===y&&p.preventDefault()}},[r,n,g.paused]);return t.jsx(j.div,{tabIndex:-1,...l,ref:m,onKeyDown:C})});_e.displayName=fr;function pr(e,{select:s=!1}={}){const r=document.activeElement;for(const n of e)if(N(n,{select:s}),document.activeElement!==r)return}function mr(e){const s=Fe(e),r=Ce(s,e),n=Ce(s.reverse(),e);return[r,n]}function Fe(e){const s=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Ce(e,s){for(const r of e)if(!hr(r,{upTo:s}))return r}function hr(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xr(e){return e instanceof HTMLInputElement&&"select"in e}function N(e,{select:s=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&xr(e)&&s&&e.select()}}var we=gr();function gr(){let e=[];return{add(s){const r=e[0];s!==r&&(r==null||r.pause()),e=je(e,s),e.unshift(s)},remove(s){var r;e=je(e,s),(r=e[0])==null||r.resume()}}}function je(e,s){const r=[...e],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function vr(e){return e.filter(s=>s.tagName!=="A")}var br="Arrow",De=i.forwardRef((e,s)=>{const{children:r,width:n=10,height:o=5,...a}=e;return t.jsx(j.svg,{...a,ref:s,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});De.displayName=br;var yr=De,ae="Popper",[Ie,Le]=Ne(ae),[Pr,ke]=Ie(ae),Me=e=>{const{__scopePopper:s,children:r}=e,[n,o]=i.useState(null);return t.jsx(Pr,{scope:s,anchor:n,onAnchorChange:o,children:r})};Me.displayName=ae;var $e="PopperAnchor",He=i.forwardRef((e,s)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=ke($e,r),l=i.useRef(null),c=F(s,l);return i.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:t.jsx(j.div,{...o,ref:c})});He.displayName=$e;var ie="PopperContent",[Er,Cr]=Ie(ie),Ue=i.forwardRef((e,s)=>{var pe,me,he,xe,ge,ve;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:v="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:C,...p}=e,E=ke(ie,r),[h,y]=i.useState(null),P=F(s,H=>y(H)),[b,D]=i.useState(null),w=Pt(b),x=(w==null?void 0:w.width)??0,_=(w==null?void 0:w.height)??0,K=n+(a!=="center"?"-"+a:""),$=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},de=Array.isArray(d)?d:[d],ot=de.length>0,V={padding:$,boundary:de.filter(jr),altBoundary:ot},{refs:at,floatingStyles:ue,placement:it,isPositioned:X,middlewareData:I}=Et({strategy:"fixed",placement:K,whileElementsMounted:(...H)=>Ct(...H,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[wt({mainAxis:o+_,alignmentAxis:l}),f&&jt({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?St():void 0,...V}),f&&Nt({...V}),At({...V,apply:({elements:H,rects:be,availableWidth:mt,availableHeight:ht})=>{const{width:xt,height:gt}=be.reference,J=H.floating.style;J.setProperty("--radix-popper-available-width",`${mt}px`),J.setProperty("--radix-popper-available-height",`${ht}px`),J.setProperty("--radix-popper-anchor-width",`${xt}px`),J.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),b&&Rt({element:b,padding:c}),Nr({arrowWidth:x,arrowHeight:_}),m&&Ot({strategy:"referenceHidden",...V})]}),[fe,ct]=ze(it),Y=B(C);re(()=>{X&&(Y==null||Y())},[X,Y]);const lt=(pe=I.arrow)==null?void 0:pe.x,dt=(me=I.arrow)==null?void 0:me.y,ut=((he=I.arrow)==null?void 0:he.centerOffset)!==0,[ft,pt]=i.useState();return re(()=>{h&&pt(window.getComputedStyle(h).zIndex)},[h]),t.jsx("div",{ref:at.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:X?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ft,"--radix-popper-transform-origin":[(xe=I.transformOrigin)==null?void 0:xe.x,(ge=I.transformOrigin)==null?void 0:ge.y].join(" "),...((ve=I.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(Er,{scope:r,placedSide:fe,onArrowChange:D,arrowX:lt,arrowY:dt,shouldHideArrow:ut,children:t.jsx(j.div,{"data-side":fe,"data-align":ct,...p,ref:P,style:{...p.style,animation:X?void 0:"none"}})})})});Ue.displayName=ie;var Be="PopperArrow",wr={top:"bottom",right:"left",bottom:"top",left:"right"},We=i.forwardRef(function(s,r){const{__scopePopper:n,...o}=s,a=Cr(Be,n),l=wr[a.placedSide];return t.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:t.jsx(yr,{...o,ref:r,style:{...o.style,display:"block"}})})});We.displayName=Be;function jr(e){return e!==null}var Nr=e=>({name:"transformOrigin",options:e,fn(s){var E,h,y;const{placement:r,rects:n,middlewareData:o}=s,l=((E=o.arrow)==null?void 0:E.centerOffset)!==0,c=l?0:e.arrowWidth,f=l?0:e.arrowHeight,[d,u]=ze(r),v={start:"0%",center:"50%",end:"100%"}[u],m=(((h=o.arrow)==null?void 0:h.x)??0)+c/2,g=(((y=o.arrow)==null?void 0:y.y)??0)+f/2;let C="",p="";return d==="bottom"?(C=l?v:`${m}px`,p=`${-f}px`):d==="top"?(C=l?v:`${m}px`,p=`${n.floating.height+f}px`):d==="right"?(C=`${-f}px`,p=l?v:`${g}px`):d==="left"&&(C=`${n.floating.width+f}px`,p=l?v:`${g}px`),{data:{x:C,y:p}}}});function ze(e){const[s,r="center"]=e.split("-");return[s,r]}var Ar=Me,Ke=He,Rr=Ue,Or=We,Sr="Portal",Ve=i.forwardRef((e,s)=>{var c;const{container:r,...n}=e,[o,a]=i.useState(!1);re(()=>a(!0),[]);const l=r||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Tt.createPortal(t.jsx(j.div,{...n,ref:s}),l):null});Ve.displayName=Sr;var ce="Popover",[Xe,Qr]=Ne(ce,[Le]),z=Le(),[Tr,T]=Xe(ce),Ye=e=>{const{__scopePopover:s,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:l=!1}=e,c=z(s),f=i.useRef(null),[d,u]=i.useState(!1),[v=!1,m]=It({prop:n,defaultProp:o,onChange:a});return t.jsx(Ar,{...c,children:t.jsx(Tr,{scope:s,contentId:Lt(),triggerRef:f,open:v,onOpenChange:m,onOpenToggle:i.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:d,onCustomAnchorAdd:i.useCallback(()=>u(!0),[]),onCustomAnchorRemove:i.useCallback(()=>u(!1),[]),modal:l,children:r})})};Ye.displayName=ce;var Je="PopoverAnchor",_r=i.forwardRef((e,s)=>{const{__scopePopover:r,...n}=e,o=T(Je,r),a=z(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=o;return i.useEffect(()=>(l(),()=>c()),[l,c]),t.jsx(Ke,{...a,...n,ref:s})});_r.displayName=Je;var Ge="PopoverTrigger",Ze=i.forwardRef((e,s)=>{const{__scopePopover:r,...n}=e,o=T(Ge,r),a=z(r),l=F(s,o.triggerRef),c=t.jsx(j.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":rt(o.open),...n,ref:l,onClick:S(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?c:t.jsx(Ke,{asChild:!0,...a,children:c})});Ze.displayName=Ge;var le="PopoverPortal",[Fr,Dr]=Xe(le,{forceMount:void 0}),qe=e=>{const{__scopePopover:s,forceMount:r,children:n,container:o}=e,a=T(le,s);return t.jsx(Fr,{scope:s,forceMount:r,children:t.jsx(Ae,{present:r||a.open,children:t.jsx(Ve,{asChild:!0,container:o,children:n})})})};qe.displayName=le;var M="PopoverContent",Qe=i.forwardRef((e,s)=>{const r=Dr(M,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,a=T(M,e.__scopePopover);return t.jsx(Ae,{present:n||a.open,children:a.modal?t.jsx(Ir,{...o,ref:s}):t.jsx(Lr,{...o,ref:s})})});Qe.displayName=M;var Ir=i.forwardRef((e,s)=>{const r=T(M,e.__scopePopover),n=i.useRef(null),o=F(s,n),a=i.useRef(!1);return i.useEffect(()=>{const l=n.current;if(l)return _t(l)},[]),t.jsx(Ft,{as:oe,allowPinchZoom:!0,children:t.jsx(et,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:S(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),a.current||(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:S(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,d=c.button===2||f;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:S(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Lr=i.forwardRef((e,s)=>{const r=T(M,e.__scopePopover),n=i.useRef(!1),o=i.useRef(!1);return t.jsx(et,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,a),a.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var f,d;(f=e.onInteractOutside)==null||f.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),et=i.forwardRef((e,s)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:u,...v}=e,m=T(M,r),g=z(r);return Dt(),t.jsx(_e,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:t.jsx(Se,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:t.jsx(Rr,{"data-state":rt(m.open),role:"dialog",id:m.contentId,...g,...v,ref:s,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tt="PopoverClose",kr=i.forwardRef((e,s)=>{const{__scopePopover:r,...n}=e,o=T(tt,r);return t.jsx(j.button,{type:"button",...n,ref:s,onClick:S(e.onClick,()=>o.onOpenChange(!1))})});kr.displayName=tt;var Mr="PopoverArrow",$r=i.forwardRef((e,s)=>{const{__scopePopover:r,...n}=e,o=z(r);return t.jsx(Or,{...o,...n,ref:s})});$r.displayName=Mr;function rt(e){return e?"open":"closed"}var Hr=Ye,Ur=Ze,Br=qe,nt=Qe;const Wr=Hr,zr=Ur,st=i.forwardRef(({className:e,align:s="center",sideOffset:r=4,...n},o)=>t.jsx(Br,{children:t.jsx(nt,{ref:o,align:s,sideOffset:r,className:kt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));st.displayName=nt.displayName;function Kr(e){return e>=1e6?(e/1e6).toFixed(e%1e6===0?0:1)+"M":e>=1e3?(e/1e3).toFixed(e%1e3===0?0:1)+"k":e.toString()}function Vr(){const[e,s]=i.useState([]),r=async()=>{try{const n=await W.get("sales-encoding",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}});s(n.data.topPerformers)}catch(n){console.error("Error fetching data:",n)}};return i.useEffect(()=>{r()},[]),t.jsxs(A,{className:"fade-in-right w-full md:w-full bg-[#eff6ff] border-b-4 border-primary",children:[t.jsxs(R,{className:"text-center",children:[t.jsx(O,{children:"Top 10 Agents"}),t.jsx(k,{children:"of the month"})]}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-5 md:grid-cols-3 gap-4 h-56 overflow-auto",children:e.map((n,o)=>t.jsxs("div",{className:"relative flex flex-col items-center",children:[t.jsx("div",{className:"absolute top-0 left-3 bg-[#172554] rounded-full z-50 px-2 py-1 text-[#eff6ff]",children:o+1}),t.jsxs(Wr,{children:[t.jsx(zr,{asChild:!0,children:t.jsxs(Mt,{className:"h-12 w-12 md:h-12 md:w-12 border-primary border-4",children:[n.profile_pic?t.jsx($t,{src:`https://athomes.site/${n.profile_pic}`,alt:`${n.first_name} ${n.last_name}`,className:"rounded-full border border-border object-cover"}):null,t.jsx(Ht,{className:"font-bold text-2xl bg-[#172554] text-[#eff6ff] ",children:n.first_name?n.first_name.charAt(0).toUpperCase():"U"})]})}),t.jsx(st,{className:"p-4 bg-white shadow-lg rounded-lg",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"font-semibold",children:[n.first_name," ",n.last_name]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:n.email||""})]})})]}),t.jsxs("div",{className:"text-center mt-2",children:[t.jsxs("p",{className:"text-sm font-bold",children:[n.first_name," ",n.last_name]}),t.jsx("p",{className:"text-sm",children:Kr(Number(n.totalSales))})]})]},n.id||o))})})]})}function Xr(){const[e,s]=i.useState(0),[r,n]=i.useState(0),[o,a]=i.useState(0),[l,c]=i.useState(0),f=Ut(),d=async()=>{try{const u=await W.get("agent-broker",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}});s(u.data.agentsListCount||0),n(u.data.pendingAgentsCount||0),a(u.data.agentsLicensedCount||0),c(u.data.agentsUnlicensedCount||0)}catch(u){console.error("Error fetching members:",u),Vt.fire({icon:"error",title:"Error",text:"Failed to fetch data. Please login again.",confirmButtonText:"OK"}),localStorage.clear(),console.clear(),f("/")}};return i.useEffect(()=>{d()},[]),t.jsxs("div",{className:"ml-72 md:ml-0 grid grid-cols-4 md:grid-cols-1 md:gap-2 md:p-5 md:mt-0 gap-2 items-start justify-center mt-5 md:px-5 mr-2",children:[t.jsx(G,{to:"/admin/affialiated",className:"block",children:t.jsx(A,{className:"fade-in-left w-full md:w-full bg-[#eff6ff] border-b-4 border-primary",children:t.jsxs(R,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-3xl font-bold text-primary animate-bounce",children:e}),t.jsx(Z,{icon:Bt,className:"ml-2 h-10 text-blue-300"})]}),t.jsx(k,{className:"font-bold text-primary md:text-xs",children:"Total Broker/Agents"})]})})}),t.jsx(G,{to:"/admin/affialiated/pendingRegister",className:"block",children:t.jsx(A,{className:"fade-in-left w-full md:w-full bg-[#eff6ff] border-b-4 border-primary",children:t.jsxs(R,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-3xl font-bold text-black animate-bounce",children:r}),t.jsx(Z,{icon:Wt,className:"ml-2 h-10 text-[#3f3f46]"})]}),t.jsx(k,{className:"font-bold text-black md:text-xs",children:"Pending Register"})]})})}),t.jsx(G,{to:"/admin/affialiated/licensed",className:"block",children:t.jsx(A,{className:"fade-in-left w-full md:w-full bg-[#eff6ff] border-b-4 border-primary",children:t.jsxs(R,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-3xl font-bold text-green-500 animate-bounce",children:o}),t.jsx(Z,{icon:zt,className:"ml-2 h-10 text-green-200"})]}),t.jsx(k,{className:"font-bold text-green-500 md:text-xs",children:"Total Licensed Affialiated"})]})})}),t.jsx(G,{to:"/admin/affialiated/unlicensed",className:"block",children:t.jsx(A,{className:"fade-in-left w-full md:w-full bg-[#eff6ff] border-b-4 border-primary",children:t.jsxs(R,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(O,{className:"text-3xl font-bold text-red-500 animate-bounce",children:l}),t.jsx(Z,{icon:Kt,className:"ml-2 h-10 text-red-200"})]}),t.jsx(k,{className:"font-bold text-red-500 md:text-xs",children:"Total Unlicensed Affialiated"})]})})})]})}function en(){return t.jsxs("div",{className:"py-5 md:pt-20",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold ml-72 md:ml-0 md:grid-cols-1 md:gap-2 md:p-5 md:mt-0 md:text-2xl",children:"Dashboard"}),t.jsx(Xr,{})]}),t.jsxs("div",{className:"ml-72 md:ml-0 grid grid-cols-2 md:grid-cols-1 md:gap-2 md:p-5 md:mt-0 gap-2 items-start justify-center mt-5 md:px-5 mr-2",children:[t.jsx(Gt,{}),t.jsx(Zt,{})]}),t.jsxs("div",{className:"ml-72 md:ml-0 grid grid-cols-2 md:grid-cols-1 md:gap-2 md:p-5 md:mt-0 gap-2 items-start justify-center mt-5 md:px-5 mr-2",children:[t.jsx(qt,{}),t.jsx(Vr,{})]})]})}export{en as default};
