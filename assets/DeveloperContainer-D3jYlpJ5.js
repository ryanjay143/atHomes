import{j as e,L as je,B as S,F as T,W as Y,e as ie,r as d,X as fe,Y as pe,Z as ve,c as K,S as k,u as be,M as Ne,N as _e,O as we,f as ye}from"./index-DzIFtOoE.js";import{c as Ce,C as Se,a as Pe,b as De}from"./card-COEpcEWv.js";import{I as b}from"./input-Fwchuark.js";import{S as Z,a as J,b as ee,c as se,d as x}from"./select-DymCWVEg.js";import{f as re,a as ne,b as U,c as _,d as le,e as j}from"./table-nVCIkz3n.js";import{B as Ee,a as Le,b as Fe,c as Oe}from"./breadcrumb-HGTUNCzz.js";import{D as M,a as Q,b as G,c as W,d as X,e as ce,f as de,g as ae}from"./dialog-XlISceK_.js";import{L as N}from"./label-Bx9J7yMJ.js";function Te(){return e.jsx("div",{className:"bg-[#172554] flex flex-row items-center gap-4 p-2 rounded-md mb-5 ",children:e.jsx("div",{className:" flex flex-col items-start md:items-center md:justify-center md:ml-10 text-accent fade-in-right",children:e.jsx(Ee,{children:e.jsxs(Le,{children:[e.jsx(Fe,{className:"text-accent",children:e.jsx(je,{to:"/admin/developer",children:"List of Accredited Developers"})}),e.jsx(Oe,{})]})})})})}const Ae=({developerData:a,setDeveloperData:f,isDialogOpen:P,setIsDialogOpen:p,isSubmitting:h,handleSubmit:C,handleImageChange:A,handleImageError:B,handleRemoveImage:D,errors:i,fileInputRef:E})=>e.jsxs(M,{open:P,onOpenChange:p,children:[e.jsx(Q,{asChild:!0,children:e.jsxs(S,{className:"border border-primary",disabled:h,children:[e.jsx(T,{icon:Y})," Add Developer"]})}),e.jsxs(G,{className:"md:pt-10 md:w-[80%] md:h-[80%] rounded-sm overflow-auto bg-[#eff6ff]",children:[e.jsxs(W,{className:"text-start",children:[e.jsx(X,{children:"Add Developer"}),e.jsx("p",{className:"text-[#172554] md:text-sm",children:"Please fill out the form below to add a new housing developer."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 md:gap-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(N,{className:"text-[#172554]",children:["Developer Name ",e.jsx("span",{className:"text-red-700",children:"*"})]}),e.jsx(b,{type:"text",className:"uppercase",placeholder:"Enter developer name",value:a.dev_name,onChange:v=>f({...a,dev_name:v.target.value})}),i.dev_name&&e.jsx("p",{className:"text-red-600 text-xs",children:i.dev_name})]}),e.jsxs("div",{children:[e.jsxs(N,{className:"text-[#172554]",children:["Email Address ",e.jsx("span",{className:"text-red-700",children:"*"})]}),e.jsx(b,{type:"email",placeholder:"Enter email",value:a.dev_email,onChange:v=>f({...a,dev_email:v.target.value})}),i.dev_email&&e.jsx("p",{className:"text-red-600 text-xs",children:i.dev_email})]}),e.jsxs("div",{children:[e.jsxs(N,{className:"text-[#172554]",children:["Phone Number ",e.jsx("span",{className:"text-red-700",children:"*"})]}),e.jsx(b,{type:"tel",placeholder:"Enter phone number",value:a.dev_phone,onChange:v=>f({...a,dev_phone:v.target.value})}),i.dev_phone&&e.jsx("p",{className:"text-red-600 text-xs",children:i.dev_phone})]}),e.jsxs("div",{children:[e.jsxs(N,{className:"text-[#172554]",children:["Location ",e.jsx("span",{className:"text-red-700",children:"*"})]}),e.jsx(b,{type:"text",placeholder:"Enter location",value:a.dev_location,onChange:v=>f({...a,dev_location:v.target.value})}),i.dev_location&&e.jsx("p",{className:"text-red-600 text-xs",children:i.dev_location})]}),e.jsxs("div",{children:[e.jsxs(N,{className:"text-[#172554]",children:["Image or Logo ",e.jsx("span",{className:"text-red-700",children:"*"})]}),e.jsx(b,{type:"file",accept:"image/jpeg, image/png, image/jpg, image/gif",onChange:A,ref:E}),i.image&&e.jsx("p",{className:"text-red-600 text-xs",children:i.image})]}),a.image&&e.jsxs("div",{className:"mt-2 relative w-36 h-36 group",children:[e.jsx("img",{src:a.image instanceof File?URL.createObjectURL(a.image):a.image,alt:"Preview",className:"max-w-full max-h-[80vh] rounded-md",onError:B}),e.jsx("button",{onClick:D,className:"absolute top-1 right-1 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center","aria-label":"Remove image",children:"×"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ce,{children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(de,{asChild:!0,children:e.jsx(S,{className:"bg-red-600 hover:bg-red-500 text-accent w-20 h-9 rounded-md",disabled:h,children:"Cancel"})}),e.jsx(S,{type:"submit",onClick:C,disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Submitting..."}),e.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{icon:ie}),"Submit"]})})]})})})]})]}),Be=({developer:a,projects:f,dialogOpenState:P,loading:p,toggleDialogOpen:h,handleProjectChange:C,addProject:A,removeProject:B,handleSubmitProjects:D})=>{const[i,E]=d.useState({}),v=(l,n)=>{const u=f[n],m={};return u.name||(m.name="Project name is required."),u.location||(m.location="Location is required."),u.category||(m.category="Category is required."),u.units<=0&&(m.units="Total units must be greater than 0."),u.status||(m.status="Status is required."),E(L=>({...L,[l]:{...L[l],[n]:m}})),Object.keys(m).length===0},o=l=>{let n=!0;return f.forEach((u,m)=>{v(l,m)||(n=!1)}),n},V=l=>{o(l)&&D(l)};return e.jsxs(M,{open:P,onOpenChange:l=>h(a.id,l),children:[e.jsx(Q,{children:e.jsx(S,{className:"w-8 h-8 rounded-md bg-green-500 hover:bg-green-400",children:e.jsx(T,{icon:Y,className:"text-[#eff6ff]"})})}),e.jsxs(G,{className:"w-full max-w-7xl overflow-auto h-full",children:[e.jsxs(W,{children:[e.jsxs(X,{className:"text-start",children:["Add Projects for ",e.jsx("span",{className:"uppercase",children:a.dev_name})]}),e.jsxs(ae,{children:[e.jsxs("div",{className:"mb-4 text-start mt-4 grid grid-cols-2",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-3 bg-blue-500 mr-2"}),e.jsx("p",{className:"text-xs",children:"Planning – Still in blueprint or permit phase."})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-3 bg-yellow-500 mr-2"}),e.jsx("p",{className:"text-xs",children:"Pre-Development – Site clearing and initial groundwork."})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-3 bg-orange-500 mr-2"}),e.jsx("p",{className:"text-xs",children:"Ongoing – Construction is actively in progress."})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-3 bg-green-500 mr-2"}),e.jsx("p",{className:"text-xs",children:"Ready for Occupancy (RFO) – Units are ready to be moved into."})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-3 bg-gray-500 mr-2"}),e.jsx("p",{className:"text-xs",children:"Completed – Fully finished and turned over."})]})]}),e.jsxs("div",{className:"mt-5 ",children:[f.map((l,n)=>{var u,m,L,F,I,q,g,c,w,O,R,H;return e.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-4 md:grid-cols-2 md:p-4",children:[e.jsx("div",{className:"hidden",children:e.jsx(b,{type:"text",value:a.id})}),e.jsxs("div",{className:"grid w-full items-center text-start gap-1.5",children:[e.jsx(N,{children:"Project Name"}),e.jsx(b,{type:"text",placeholder:"Enter project",value:l.name,onChange:y=>C(a.id,n,"name",y.target.value)}),((m=(u=i[a.id])==null?void 0:u[n])==null?void 0:m.name)&&e.jsx("p",{className:"text-red-500 text-xs",children:(F=(L=i[a.id])==null?void 0:L[n])==null?void 0:F.name})]}),e.jsxs("div",{className:"grid w-full items-center text-start gap-1.5",children:[e.jsx(N,{children:"Location"}),e.jsx(b,{type:"text",placeholder:"Enter location",value:l.location,onChange:y=>C(a.id,n,"location",y.target.value)}),((q=(I=i[a.id])==null?void 0:I[n])==null?void 0:q.location)&&e.jsx("p",{className:"text-red-500 text-xs",children:i[a.id][n].location})]}),e.jsxs("div",{className:"grid w-full items-center text-start gap-1.5",children:[e.jsx(N,{children:"Category"}),e.jsxs(Z,{onValueChange:y=>C(a.id,n,"category",y),children:[e.jsx(J,{children:e.jsx(ee,{placeholder:"Select category"})}),e.jsxs(se,{children:[e.jsx(x,{value:"Lot only",children:"Lot only"}),e.jsx(x,{value:"House and lot",children:"House and lot"}),e.jsx(x,{value:"Condominium/Apartment",children:"Condominium/Apartment"}),e.jsx(x,{value:"Commercial Building",children:"Commercial Building"}),e.jsx(x,{value:"Rental Building",children:"Rental Building"}),e.jsx(x,{value:"Farm Lot",children:"Farm Lot"})]})]}),((c=(g=i[a.id])==null?void 0:g[n])==null?void 0:c.category)&&e.jsx("p",{className:"text-red-500 text-xs",children:i[a.id][n].category})]}),e.jsxs("div",{className:"grid w-full items-center text-start gap-1.5",children:[e.jsx(N,{children:"Total Units"}),e.jsx(b,{type:"number",min:"0",placeholder:"0",onFocus:y=>y.target.placeholder="",onChange:y=>C(a.id,n,"units",Number(y.target.value))}),((O=(w=i[a.id])==null?void 0:w[n])==null?void 0:O.units)&&e.jsx("p",{className:"text-red-500 text-xs",children:i[a.id][n].units})]}),e.jsxs("div",{className:"grid w-full items-center text-start gap-1.5",children:[e.jsx(N,{children:"Status"}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs(Z,{onValueChange:y=>C(a.id,n,"status",y),children:[e.jsx(J,{children:e.jsx(ee,{placeholder:"Select Status"})}),e.jsxs(se,{children:[e.jsx(x,{value:"Planning",children:"Planning"}),e.jsx(x,{value:"Pre-Development",children:"Pre-Development"}),e.jsx(x,{value:"Ongoing",children:"Ongoing"}),e.jsx(x,{value:"Ready for Occupancy",children:"Ready for Occupancy"}),e.jsx(x,{value:"Completed",children:"Completed"})]})]}),((H=(R=i[a.id])==null?void 0:R[n])==null?void 0:H.status)&&e.jsx("p",{className:"text-red-500 text-xs",children:i[a.id][n].status}),n!==0&&e.jsx(S,{className:"bg-red-500 hover:bg-red-400",onClick:()=>B(a.id,n),children:e.jsx(T,{icon:fe,className:"text-[#eff6ff]"})})]})]})]},l.id)}),e.jsx("div",{className:"flex justify-start mt-4",children:e.jsxs(S,{onClick:()=>A(a.id),className:"mt-4",disabled:p,children:[e.jsx(T,{icon:Y,className:"text-[#eff6ff]"}),"Add Project"]})})]})]})]}),e.jsx(ce,{children:e.jsxs("div",{className:"flex justify-end mt-4 flex-row  gap-2",children:[e.jsx(de,{asChild:!0,children:e.jsx(S,{className:"mt-4 bg-red-500 hover:bg-red-400",disabled:p,children:"Cancel"})}),e.jsx(S,{onClick:()=>V(a.id),className:"mt-4 bg-green-500 hover:bg-green-400",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Submitting..."}),e.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{icon:ie,className:"text-[#eff6ff]"}),e.jsx("span",{children:"Submit"})]})})]})})]})]})};function Ie({developer:a,fetchDevelopers:f}){const[P,p]=d.useState(null),[h,C]=d.useState(!1),[A,B]=d.useState(!1),[D,i]=d.useState(`https://athomes.site/${a.image}`),[E,v]=d.useState(!1),[o,V]=d.useState({dev_name:a.dev_name,dev_email:a.dev_email,dev_phone:a.dev_phone,dev_location:a.dev_location}),[l,n]=d.useState({dev_name:"",dev_email:"",dev_phone:"",dev_location:"",image:""}),u=d.useRef(null),m=g=>{var w;const c=(w=g.target.files)==null?void 0:w[0];if(c){if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(c.type)){n(R=>({...R,image:"Invalid image type. Only jpeg, png, jpg, gif are allowed."}));return}p(c),i(URL.createObjectURL(c)),v(!0),n(R=>({...R,image:""}))}},L=()=>{p(null),i(`https://athomes.site/${a.image}`),v(!1),u.current&&(u.current.value="")},F=g=>{const{name:c,value:w}=g.target;V(O=>({...O,[c]:w})),n(O=>({...O,[c]:""}))},I=()=>{const g={dev_name:o.dev_name?"":"Developer name is required.",dev_email:o.dev_email?"":"Email address is required.",dev_phone:o.dev_phone?"":"Phone number is required.",dev_location:o.dev_location?"":"Location is required.",image:""};return n(g),Object.values(g).every(c=>c==="")},q=async g=>{if(g.preventDefault(),!I()||h)return;C(!0);const c=new FormData;c.append("dev_name",o.dev_name),c.append("dev_email",o.dev_email),c.append("dev_phone",o.dev_phone),c.append("dev_location",o.dev_location),P&&c.append("image",P);try{const w=await K.post(`updateDeveloper/${a.id}`,c,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("access_token")}`}});f(),v(!1),B(!1),k.fire({icon:"success",title:"Success",text:w.data.message,showConfirmButton:!1,timer:2e3,timerProgressBar:!0})}catch(w){console.error("Error updating developer:",w)}finally{C(!1)}};return e.jsxs(M,{open:A,onOpenChange:B,children:[e.jsx(Q,{children:e.jsx(S,{className:"w-8 h-8 rounded-md bg-green-500 hover:bg-green-400",children:e.jsx(T,{icon:pe,className:"text-[#eff6ff]"})})}),e.jsx(G,{className:"md:max-w-[425px]",children:e.jsxs(W,{children:[e.jsx(X,{className:"text-start",children:"Edit Developer"}),e.jsx(ae,{children:e.jsxs("form",{onSubmit:q,className:"mt-5 text-start space-y-4",children:[e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(N,{htmlFor:"developer",children:"Developer name"}),e.jsx(b,{type:"text",className:"uppercase",name:"dev_name",value:o.dev_name,onChange:F}),l.dev_name&&e.jsx("span",{className:"text-red-500 text-sm",children:l.dev_name})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(N,{htmlFor:"email",children:"Email address"}),e.jsx(b,{type:"email",name:"dev_email",value:o.dev_email,onChange:F}),l.dev_email&&e.jsx("span",{className:"text-red-500 text-sm",children:l.dev_email})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(N,{htmlFor:"location",children:"Location"}),e.jsx(b,{type:"text",name:"dev_location",value:o.dev_location,onChange:F}),l.dev_location&&e.jsx("span",{className:"text-red-500 text-sm",children:l.dev_location})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(N,{htmlFor:"phone",children:"Phone number"}),e.jsx(b,{type:"text",name:"dev_phone",value:o.dev_phone,onChange:F}),l.dev_phone&&e.jsx("span",{className:"text-red-500 text-sm",children:l.dev_phone})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(N,{htmlFor:"image",children:"Developer image"}),e.jsx(b,{type:"file",className:"uppercase",accept:"image/*",onChange:m,ref:u}),l.image&&e.jsx("span",{className:"text-red-500 text-sm",children:l.image})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D,alt:a.dev_name,className:"object-cover w-full h-32 rounded-md"}),E&&e.jsx(S,{className:"absolute top-2 right-2 bg-red-500 hover:bg-red-400 text-white rounded-full h-8 w-8",onClick:L,children:e.jsx(T,{icon:ve})})]}),e.jsx("div",{children:e.jsx(S,{type:"submit",className:"w-full bg-green-500 hover:bg-green-400",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Saving..."}),e.jsx("span",{className:"animate-spin cursor-not-allowed border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):e.jsx(e.Fragment,{children:e.jsx("span",{children:"Save Changes"})})})})]})})]})})]})}const Ke=()=>{const[a,f]=d.useState({id:0,dev_name:"",dev_email:"",dev_phone:"",dev_location:"",image:null,status:0,created_at:"",updated_at:""}),[P,p]=d.useState({}),[h,C]=d.useState([]),[A,B]=d.useState(10),[D,i]=d.useState(""),E=d.useRef(null),[v,o]=d.useState(!1),[V,l]=d.useState({}),[n,u]=d.useState(!1),[m,L]=d.useState(!1),[F,I]=d.useState({dev_name:"",dev_email:"",dev_phone:"",dev_location:"",image:""}),q=be(),g=async()=>{try{const s=await K.get("developers",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});C(s.data.developers);const r={};s.data.developers.forEach(t=>{r[t.id]=[{id:Date.now(),name:"",location:"",category:"",units:0,status:"",developer_id:t.id}]}),p(r)}catch(s){console.error("Error fetching developers:",s),k.fire({icon:"error",title:"Error",text:"Failed to fetch developers. Please login again.",confirmButtonText:"OK"}),localStorage.clear(),console.clear(),q("/")}};d.useEffect(()=>{g()},[]);const c=s=>{var t;const r=(t=s.target.files)==null?void 0:t[0];r&&(["image/jpeg","image/png","image/jpg","image/gif"].includes(r.type)?(f({...a,image:r}),I({...F,image:""})):(I({...F,image:"Please upload a valid image file (jpeg, png, jpg, gif)."}),E.current&&(E.current.value="")))},w=s=>{const r=s.currentTarget;r.src="/path/to/default-image.jpg",r.alt="Default Image"},O=()=>{f({...a,image:null}),E.current&&(E.current.value="")},R=()=>{const s={dev_name:a.dev_name?"":"Developer name is required.",dev_email:a.dev_email?"":"Email address is required.",dev_phone:a.dev_phone?"":"Phone number is required.",dev_location:a.dev_location?"":"Location is required.",image:a.image?"":"Image or logo is required."};return I(s),Object.values(s).every(r=>r==="")},H=async s=>{if(s.preventDefault(),!R())return;u(!0);const r=new FormData;r.append("dev_name",a.dev_name),r.append("dev_email",a.dev_email),r.append("dev_phone",a.dev_phone),r.append("dev_location",a.dev_location),a.image&&r.append("image",a.image);try{const t=await K.post("developers",r,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("access_token")}`}});g(),o(!1),f({id:t.data.id,dev_name:"",dev_email:"",dev_phone:"",dev_location:"",image:null,status:0,created_at:"",updated_at:""}),k.fire({icon:"success",title:"Success",text:"Developer created successfully!",showConfirmButton:!1,timer:2e3})}catch{k.fire({icon:"error",title:"Submission Failed",text:"There was an error submitting the form. Please check your input and try again.",confirmButtonText:"OK"})}finally{u(!1)}},y=s=>{p(r=>({...r,[s]:[...r[s]||[],{id:Date.now(),name:"",location:"",category:"",units:0,status:"",developer_id:s}]}))},oe=(s,r,t,$)=>{p(z=>({...z,[s]:z[s].map((te,ge)=>ge===r?{...te,[t]:$}:te)}))},me=(s,r)=>{p(t=>({...t,[s]:t[s].filter(($,z)=>z!==r)}))},xe=(s,r)=>{const t=P[s][r];return!(!t.name||!t.location||!t.category||t.units<=0||!t.status)},he=async s=>{if(m)return;let r=!0;if(r=!P[s].some((t,$)=>!xe(s,$)),!r){k.fire({icon:"error",title:"Validation Error",text:"Please correct the errors in the project fields before submitting.",confirmButtonText:"OK"});return}L(!0);try{await K.post("admin/addProject",{projects:P[s].map(t=>({developer_id:s,project_name:t.name,project_location:t.location,project_category:t.category,status:t.status,total_units:t.units}))},{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),k.fire({icon:"success",title:"Success",text:"Projects added successfully!",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),l(t=>({...t,[s]:!1})),p(t=>({...t,[s]:[{id:Date.now(),name:"",location:"",category:"",units:0,status:"",developer_id:s}]}))}catch(t){console.error("Error adding projects:",t),k.fire({icon:"error",title:"Error",text:"There was an error adding the projects. Please try again.",confirmButtonText:"OK"})}finally{L(!1)}},ue=(s,r)=>{l(t=>({...t,[s]:r}))};return e.jsx("div",{className:"py-3 md:pt-20",children:e.jsxs("div",{className:"ml-72 md:ml-0 md:w-full gap-2 items-start justify-center mr-5 md:px-5 ",children:[e.jsx(Te,{}),e.jsxs(Ce,{className:"bg-[#eef2ff] border-b-4 border-primary fade-in-left",children:[e.jsx(Se,{children:e.jsx("div",{className:"flex flex-row justify-end",children:e.jsx(Pe,{className:"text-[#172554]",children:e.jsx(Ae,{developerData:a,setDeveloperData:f,isDialogOpen:v,setIsDialogOpen:o,isSubmitting:n,handleSubmit:H,handleImageChange:c,handleImageError:w,handleRemoveImage:O,errors:F,fileInputRef:E})})})}),e.jsxs(De,{children:[e.jsxs("div",{className:"py-2 flex flex-row justify-between gap-4",children:[e.jsxs(Z,{onValueChange:s=>B(s==="all"?h.length:Number(s)),children:[e.jsxs(J,{className:"w-[120px] border border-primary",children:[e.jsx("span",{className:"text-[#172554]",children:"Show"}),e.jsx(ee,{placeholder:"10"})]}),e.jsxs(se,{children:[e.jsx(x,{value:"all",children:"All"}),e.jsx(x,{value:"10",children:"10"}),e.jsx(x,{value:"20",children:"20"}),e.jsx(x,{value:"30",children:"30"}),e.jsx(x,{value:"40",children:"40"}),e.jsx(x,{value:"50",children:"50"})]})]}),e.jsx(b,{type:"text",placeholder:"Search",className:"w-52 md:w-full",value:D,onChange:s=>i(s.target.value)})]}),e.jsxs("div",{className:"overflow-auto",children:[e.jsxs(re,{className:"w-full",children:[e.jsx(ne,{className:"sticky top-0 bg-primary",children:e.jsxs(U,{children:[e.jsx(_,{children:"#"}),e.jsx(_,{children:"Photo"}),e.jsx(_,{children:"Developer name"}),e.jsx(_,{children:"Email address"}),e.jsx(_,{children:"Location"}),e.jsx(_,{children:"Phone number"}),e.jsx(_,{className:"text-right",children:"Action"})]})}),e.jsxs(le,{children:[h.length===0&&e.jsx(U,{children:e.jsx(j,{colSpan:7,className:"text-center",children:"No developers found."})}),h.filter(s=>s.dev_name.toLowerCase().includes(D.toLowerCase())||s.dev_email.toLowerCase().includes(D.toLowerCase())||s.dev_location.toLowerCase().includes(D.toLowerCase())||s.dev_phone.toLowerCase().includes(D.toLowerCase())).slice(0,A).map((s,r)=>e.jsxs(U,{children:[e.jsx(j,{className:"font-medium border border-[#bfdbfe]",children:r+1}),e.jsx(j,{className:"font-medium border border-[#bfdbfe] uppercase",children:s.dev_name?e.jsx("img",{src:`https://athomes.site/${s.image}`,alt:s.dev_name,className:"rounded-full h-10 w-10"}):e.jsxs(Ne,{children:[e.jsx(_e,{src:"https://github.com/shadcn.png"}),e.jsx(we,{children:"CN"})]})}),e.jsx(j,{className:"font-medium border border-[#bfdbfe] uppercase",children:s.dev_name}),e.jsx(j,{className:"border border-[#bfdbfe]",children:s.dev_email}),e.jsx(j,{className:"border border-[#bfdbfe]",children:s.dev_location}),e.jsx(j,{className:"border border-[#bfdbfe]",children:s.dev_phone}),e.jsx(j,{className:"text-right border border-[#bfdbfe]",children:e.jsxs("div",{className:"flex flex-row gap-1 justify-end",children:[e.jsx(Be,{developer:s,projects:P[s.id]||[],dialogOpenState:V[s.id]||!1,toggleDialogOpen:ue,handleProjectChange:oe,addProject:y,removeProject:me,handleSubmitProjects:he,loading:m,setLoading:L}),e.jsxs(M,{children:[e.jsx(Q,{children:e.jsx(S,{className:"w-8 h-8 rounded-md",onClick:()=>g(),children:e.jsx(T,{icon:ye,className:"text-[#eff6ff]"})})}),e.jsx(G,{className:"w-full max-w-6xl md:w-[90%] overflow-auto",children:e.jsxs(W,{children:[e.jsxs(X,{className:"text-start mb-10",children:[e.jsx("span",{className:"uppercase",children:s.dev_name})," Projects"]}),e.jsx(ae,{children:e.jsxs(re,{children:[e.jsx(ne,{children:e.jsxs(U,{children:[e.jsx(_,{className:"text-accent font-bold bg-primary text-center",children:"#"}),e.jsx(_,{className:"text-accent font-bold bg-primary text-center",children:"Project name"}),e.jsx(_,{className:"text-accent font-bold bg-primary text-center",children:"Location"}),e.jsx(_,{className:"text-accent font-bold bg-primary text-center",children:"Category"}),e.jsx(_,{className:"text-accent font-bold bg-primary text-center",children:"Total Units"}),e.jsx(_,{className:"text-accent font-bold bg-primary text-center",children:"Total Available"}),e.jsx(_,{className:"text-accent font-bold bg-primary text-center",children:"Status"})]})}),e.jsx(le,{children:s.projects&&s.projects.length>0?s.projects.map((t,$)=>e.jsxs(U,{children:[e.jsx(j,{className:"border border-[#bfdbfe]",children:$+1}),e.jsx(j,{className:"border border-[#bfdbfe]",children:t.project_name}),e.jsx(j,{className:"border border-[#bfdbfe]",children:t.project_location}),e.jsx(j,{className:"border border-[#bfdbfe]",children:t.project_category}),e.jsx(j,{className:"border border-[#bfdbfe] text-green-500",children:t.total_units}),e.jsx(j,{className:"border border-[#bfdbfe] text-red-500",children:t.available_units}),e.jsx(j,{className:"border border-[#bfdbfe]",children:t.status})]},t.id)):e.jsx(U,{children:e.jsx(j,{colSpan:7,className:"text-center",children:"No projects available."})})})]})})]})})]}),e.jsx(Ie,{developer:s,fetchDevelopers:g})]})})]},s.id))]})]}),e.jsx("div",{className:"flex flex-row justify-end mt-3",children:e.jsx("div",{children:e.jsxs("p",{className:"text-[#172554] text-sm w-full",children:["Showing 1 to ",Math.min(A,h.length)," of ",h.length," entries"]})})})]})]})]})]})})};export{Ke as default};
