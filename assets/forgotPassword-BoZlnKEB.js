import{r as o,u as g,j as e,B as x,F as j,d as w,c as u,S as p}from"./index-DEGDEFog.js";import{c as b,C as y,a as C,d as v,b as N}from"./card-CN0oKiQR.js";import{L as S}from"./label-B4KpdKWk.js";import{I as E}from"./input-CYjWdCSf.js";function P(){const[t,n]=o.useState(""),[r,i]=o.useState(!1),[l,c]=o.useState(""),f=g(),h=async a=>{var d,m;if(a.preventDefault(),!t){c("Email is required.");return}if(!r){i(!0),c("");try{const s=await u.post("forgot-password",{email:t});p.fire({position:"center",icon:"success",title:"Success",text:s.data.status,showConfirmButton:!1,showCloseButton:!0,timer:3e3,timerProgressBar:!0}),n("")}catch(s){console.error("Error sending reset link:",s),p.fire({position:"center",icon:"error",title:"Oops!",text:u.isAxiosError(s)&&((m=(d=s.response)==null?void 0:d.data)!=null&&m.message)?s.response.data.message:"An error occurred. Please try again.",showConfirmButton:!1,showCloseButton:!0})}finally{i(!1)}}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen md:p-5",children:e.jsxs(b,{className:"w-full max-w-md shadow-lg rounded-xl border border-b-4 border-primary",children:[e.jsxs(y,{children:[e.jsx(C,{className:"text-2xl font-semibold text-center text-gray-800",children:"Forgot Password"}),e.jsx(v,{className:"text-center text-sm text-gray-500 mt-1",children:"Enter your email to receive a password reset link."})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx(S,{htmlFor:"email",children:"Email"}),e.jsx(E,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:a=>n(a.target.value)}),l&&e.jsx("span",{className:"text-red-500 text-sm",children:l})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(x,{type:"submit",disabled:r,className:"w-full flex items-center justify-center gap-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Sending..."}),e.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):e.jsx("span",{children:"Send Password Reset Link"})}),e.jsxs(x,{type:"button",variant:"outline",className:"w-full bg-red-500 hover:bg-red-400 text-white hover:text-white",disabled:r,onClick:()=>f("/user-login"),children:[e.jsx(j,{icon:w}),"Back"]})]})]})})]})})}export{P as default};
